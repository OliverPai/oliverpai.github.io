<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 5.4.2">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon.ico">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.ico">
  <link rel="mask-icon" href="/images/favicon.ico" color="#222">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" integrity="sha256-DfWjNxDkM94fVBWx1H5BMMp0Zq7luBlV8QRcSES7s+0=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"example.com","root":"/","images":"/images","scheme":"Gemini","darkmode":true,"version":"8.12.2","exturl":false,"sidebar":{"position":"right","display":"post","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":false,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"æœç´¢...","empty":"æ²¡æœ‰æ‰¾åˆ°ä»»ä½•æœç´¢ç»“æœï¼š${query}","hits_time":"æ‰¾åˆ° ${hits} ä¸ªæœç´¢ç»“æœï¼ˆç”¨æ—¶ ${time} æ¯«ç§’ï¼‰","hits":"æ‰¾åˆ° ${hits} ä¸ªæœç´¢ç»“æœ"}}</script><script src="/js/config.js"></script>

    <meta name="description" content="Wolaiç‰ˆç¬”è®°ï¼šhttps:&#x2F;&#x2F;www.wolai.com&#x2F;c6DimzS8u5XXevGswTpXQoã€‚è®°å½•ACWingç½‘ç«™ç®—æ³•åŸºç¡€è¯¾çš„åŠ¨æ€è§„åˆ’éƒ¨åˆ†å†…å®¹">
<meta property="og:type" content="article">
<meta property="og:title" content="åŠ¨æ€è§„åˆ’ï¼ˆåŸºç¡€ï¼‰">
<meta property="og:url" content="http://example.com/2021/10/18/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92-%E5%9F%BA%E7%A1%80/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92-%E5%9F%BA%E7%A1%80/index.html">
<meta property="og:site_name" content="OliverPai">
<meta property="og:description" content="Wolaiç‰ˆç¬”è®°ï¼šhttps:&#x2F;&#x2F;www.wolai.com&#x2F;c6DimzS8u5XXevGswTpXQoã€‚è®°å½•ACWingç½‘ç«™ç®—æ³•åŸºç¡€è¯¾çš„åŠ¨æ€è§„åˆ’éƒ¨åˆ†å†…å®¹">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://oliverpai-post-pics.oss-cn-hangzhou.aliyuncs.com/image/dynamic-programming-basic/Fig1_xe6xHotGq9.png">
<meta property="og:image" content="https://oliverpai-post-pics.oss-cn-hangzhou.aliyuncs.com/image/dynamic-programming-basic/Fig2_Kc0B6M3H-a.png">
<meta property="og:image" content="https://oliverpai-post-pics.oss-cn-hangzhou.aliyuncs.com/image/dynamic-programming-basic/Fig3_tLiUPdQcXh.png">
<meta property="og:image" content="https://oliverpai-post-pics.oss-cn-hangzhou.aliyuncs.com/image/dynamic-programming-basic/Fig4_ujvYujEOup.png">
<meta property="og:image" content="https://oliverpai-post-pics.oss-cn-hangzhou.aliyuncs.com/image/dynamic-programming-basic/Fig5_7BHn4a-NxW.png">
<meta property="og:image" content="https://oliverpai-post-pics.oss-cn-hangzhou.aliyuncs.com/image/dynamic-programming-basic/Fig6_txs_Inikl4.png">
<meta property="og:image" content="https://oliverpai-post-pics.oss-cn-hangzhou.aliyuncs.com/image/dynamic-programming-basic/Fig7_XQbN7O-acE.png">
<meta property="og:image" content="https://oliverpai-post-pics.oss-cn-hangzhou.aliyuncs.com/image/dynamic-programming-basic/Fig8_WIbazbZy8S.png">
<meta property="og:image" content="https://oliverpai-post-pics.oss-cn-hangzhou.aliyuncs.com/image/dynamic-programming-basic/Fig9_6Qdw3BuZTK.png">
<meta property="og:image" content="https://oliverpai-post-pics.oss-cn-hangzhou.aliyuncs.com/image/dynamic-programming-basic/Fig10_UIwbppcb7E.png">
<meta property="og:image" content="https://oliverpai-post-pics.oss-cn-hangzhou.aliyuncs.com/image/dynamic-programming-basic/Fig11_KKKIaBvA7b.png">
<meta property="og:image" content="https://oliverpai-post-pics.oss-cn-hangzhou.aliyuncs.com/image/dynamic-programming-basic/Fig12_RDU4u9SWDq.png">
<meta property="article:published_time" content="2021-10-18T12:14:55.000Z">
<meta property="article:modified_time" content="2022-07-23T11:09:45.085Z">
<meta property="article:author" content="OliverPai">
<meta property="article:tag" content="ç®—æ³•">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://oliverpai-post-pics.oss-cn-hangzhou.aliyuncs.com/image/dynamic-programming-basic/Fig1_xe6xHotGq9.png">


<link rel="canonical" href="http://example.com/2021/10/18/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92-%E5%9F%BA%E7%A1%80/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92-%E5%9F%BA%E7%A1%80/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"http://example.com/2021/10/18/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92-%E5%9F%BA%E7%A1%80/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92-%E5%9F%BA%E7%A1%80/","path":"2021/10/18/åŠ¨æ€è§„åˆ’-åŸºç¡€/åŠ¨æ€è§„åˆ’-åŸºç¡€/","title":"åŠ¨æ€è§„åˆ’ï¼ˆåŸºç¡€ï¼‰"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>åŠ¨æ€è§„åˆ’ï¼ˆåŸºç¡€ï¼‰ | OliverPai</title>
  





  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
<link rel="alternate" href="/atom.xml" title="OliverPai" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="åˆ‡æ¢å¯¼èˆªæ " role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">OliverPai</p>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">è½å¶æœ¬å°±æ˜¯å‡çš„</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>é¦–é¡µ</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>æ ‡ç­¾</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>åˆ†ç±»</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>å½’æ¡£</a></li>
  </ul>
</nav>




</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          æ–‡ç« ç›®å½•
        </li>
        <li class="sidebar-nav-overview">
          ç«™ç‚¹æ¦‚è§ˆ
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92-%E5%9F%BA%E7%A1%80"><span class="nav-number">1.</span> <span class="nav-text"> åŠ¨æ€è§„åˆ’-åŸºç¡€</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#1-%E8%83%8C%E5%8C%85%E6%A8%A1%E5%9E%8B"><span class="nav-number">2.</span> <span class="nav-text"> 1 èƒŒåŒ…æ¨¡å‹</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#11-%E9%9B%B6%E4%B8%80%E8%83%8C%E5%8C%85%E9%97%AE%E9%A2%98"><span class="nav-number">2.1.</span> <span class="nav-text"> 1.1 é›¶ä¸€èƒŒåŒ…é—®é¢˜</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#12-%E5%AE%8C%E5%85%A8%E8%83%8C%E5%8C%85%E9%97%AE%E9%A2%98"><span class="nav-number">2.2.</span> <span class="nav-text"> 1.2 å®Œå…¨èƒŒåŒ…é—®é¢˜</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#13-%E5%A4%9A%E9%87%8D%E8%83%8C%E5%8C%85%E9%97%AE%E9%A2%98"><span class="nav-number">2.3.</span> <span class="nav-text"> 1.3 å¤šé‡èƒŒåŒ…é—®é¢˜</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#14-%E5%88%86%E7%BB%84%E8%83%8C%E5%8C%85%E9%97%AE%E9%A2%98"><span class="nav-number">2.4.</span> <span class="nav-text"> 1.4 åˆ†ç»„èƒŒåŒ…é—®é¢˜</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#2-%E7%BA%BF%E6%80%A7dp"><span class="nav-number">3.</span> <span class="nav-text"> 2 çº¿æ€§DP</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#21-%E4%BE%8B%E9%A2%981%E6%95%B0%E5%AD%97%E4%B8%89%E8%A7%92%E5%BD%A2"><span class="nav-number">3.1.</span> <span class="nav-text"> 2.1 ä¾‹é¢˜1ï¼šæ•°å­—ä¸‰è§’å½¢</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#22-%E4%BE%8B%E9%A2%982%E6%9C%80%E5%A4%A7%E4%B8%8A%E5%8D%87%E5%AD%90%E5%BA%8F%E5%88%97"><span class="nav-number">3.2.</span> <span class="nav-text"> 2.2 ä¾‹é¢˜2ï¼šæœ€å¤§ä¸Šå‡å­åºåˆ—</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#23-%E4%BE%8B%E9%A2%983-%E6%9C%80%E9%95%BF%E5%85%AC%E5%85%B1%E5%AD%90%E5%BA%8F%E5%88%97"><span class="nav-number">3.3.</span> <span class="nav-text"> 2.3 ä¾‹é¢˜3ï¼š æœ€é•¿å…¬å…±å­åºåˆ—</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#24-%E4%BE%8B%E9%A2%984%E6%9C%80%E7%9F%AD%E7%BC%96%E8%BE%91%E8%B7%9D%E7%A6%BB"><span class="nav-number">3.4.</span> <span class="nav-text"> 2.4 ä¾‹é¢˜4ï¼šæœ€çŸ­ç¼–è¾‘è·ç¦»</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#3-%E5%8C%BA%E9%97%B4dp"><span class="nav-number">4.</span> <span class="nav-text"> 3 åŒºé—´DP</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#31-%E4%BE%8B%E9%A2%981%E7%9F%B3%E5%AD%90%E5%90%88%E5%B9%B6"><span class="nav-number">4.1.</span> <span class="nav-text"> 3.1 ä¾‹é¢˜1ï¼šçŸ³å­åˆå¹¶</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#4-%E8%AE%A1%E6%95%B0%E7%B1%BBdp"><span class="nav-number">5.</span> <span class="nav-text"> 4 è®¡æ•°ç±»DP</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#41-%E4%BE%8B%E9%A2%981%E6%95%B4%E6%95%B0%E5%88%92%E5%88%86"><span class="nav-number">5.1.</span> <span class="nav-text"> 4.1 ä¾‹é¢˜1ï¼šæ•´æ•°åˆ’åˆ†</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#5-%E6%95%B0%E4%BD%8D%E7%BB%9F%E8%AE%A1dp"><span class="nav-number">6.</span> <span class="nav-text"> 5 æ•°ä½ç»Ÿè®¡DP</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#6-%E7%8A%B6%E6%80%81%E5%8E%8B%E7%BC%A9dp"><span class="nav-number">7.</span> <span class="nav-text"> 6 çŠ¶æ€å‹ç¼©DP</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#61-%E4%BE%8B%E9%A2%981%E8%92%99%E5%BE%B7%E9%87%8C%E5%AE%89%E7%9A%84%E6%A2%A6%E6%83%B3"><span class="nav-number">7.1.</span> <span class="nav-text"> 6.1 ä¾‹é¢˜1ï¼šè’™å¾·é‡Œå®‰çš„æ¢¦æƒ³</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#62-%E4%BE%8B%E9%A2%982%E6%9C%80%E7%9F%ADhamilton%E8%B7%AF%E5%BE%84"><span class="nav-number">7.2.</span> <span class="nav-text"> 6.2 ä¾‹é¢˜2ï¼šæœ€çŸ­Hamiltonè·¯å¾„</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#7-%E6%A0%91%E5%BD%A2dp"><span class="nav-number">8.</span> <span class="nav-text"> 7 æ ‘å½¢DP</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#71-%E4%BE%8B%E9%A2%981%E6%B2%A1%E6%9C%89%E4%B8%8A%E5%8F%B8%E7%9A%84%E8%88%9E%E4%BC%9A"><span class="nav-number">8.1.</span> <span class="nav-text"> 7.1 ä¾‹é¢˜1ï¼šæ²¡æœ‰ä¸Šå¸çš„èˆä¼š</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#8-%E8%AE%B0%E5%BF%86%E5%8C%96%E6%90%9C%E7%B4%A2"><span class="nav-number">9.</span> <span class="nav-text"> 8 è®°å¿†åŒ–æœç´¢</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#81-%E4%BE%8B%E9%A2%981%E6%BB%91%E9%9B%AA"><span class="nav-number">9.1.</span> <span class="nav-text"> 8.1 ä¾‹é¢˜1ï¼šæ»‘é›ª</span></a></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="OliverPai"
      src="/images/avatar-star.png">
  <p class="site-author-name" itemprop="name">OliverPai</p>
  <div class="site-description" itemprop="description">æ±‚ç´¢ä¸è®°å½•</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">17</span>
          <span class="site-state-item-name">æ—¥å¿—</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">7</span>
        <span class="site-state-item-name">åˆ†ç±»</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">9</span>
        <span class="site-state-item-name">æ ‡ç­¾</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://github.com/OliverPai" title="GitHub â†’ https:&#x2F;&#x2F;github.com&#x2F;OliverPai" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
  </div>



        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="è¿”å›é¡¶éƒ¨">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/10/18/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92-%E5%9F%BA%E7%A1%80/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92-%E5%9F%BA%E7%A1%80/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar-star.png">
      <meta itemprop="name" content="OliverPai">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="OliverPai">
      <meta itemprop="description" content="æ±‚ç´¢ä¸è®°å½•">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="åŠ¨æ€è§„åˆ’ï¼ˆåŸºç¡€ï¼‰ | OliverPai">
      <meta itemprop="description" content="Wolaiç‰ˆç¬”è®°ï¼šhttps://www.wolai.com/c6DimzS8u5XXevGswTpXQoã€‚è®°å½•ACWingç½‘ç«™ç®—æ³•åŸºç¡€è¯¾çš„åŠ¨æ€è§„åˆ’éƒ¨åˆ†å†…å®¹">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          åŠ¨æ€è§„åˆ’ï¼ˆåŸºç¡€ï¼‰
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2021-10-18 20:14:55" itemprop="dateCreated datePublished" datetime="2021-10-18T20:14:55+08:00">2021-10-18</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">æ›´æ–°äº</span>
      <time title="ä¿®æ”¹æ—¶é—´ï¼š2022-07-23 19:09:45" itemprop="dateModified" datetime="2022-07-23T19:09:45+08:00">2022-07-23</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%AE%97%E6%B3%95/" itemprop="url" rel="index"><span itemprop="name">ç®—æ³•</span></a>
        </span>
    </span>

  
</div>

            <div class="post-description">Wolaiç‰ˆç¬”è®°ï¼šhttps://www.wolai.com/c6DimzS8u5XXevGswTpXQoã€‚è®°å½•ACWingç½‘ç«™ç®—æ³•åŸºç¡€è¯¾çš„åŠ¨æ€è§„åˆ’éƒ¨åˆ†å†…å®¹</div>
        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <h1 id="åŠ¨æ€è§„åˆ’-åŸºç¡€"><a class="markdownIt-Anchor" href="#åŠ¨æ€è§„åˆ’-åŸºç¡€"></a> åŠ¨æ€è§„åˆ’-åŸºç¡€</h1>
<h1 id="1-èƒŒåŒ…æ¨¡å‹"><a class="markdownIt-Anchor" href="#1-èƒŒåŒ…æ¨¡å‹"></a> 1 èƒŒåŒ…æ¨¡å‹</h1>
<p><strong>èƒŒåŒ…æ¨¡å‹å„å­é—®é¢˜ç‰¹å¾</strong></p>
<table>
<thead>
<tr>
<th>é—®é¢˜</th>
<th>ç‰¹å¾</th>
</tr>
</thead>
<tbody>
<tr>
<td>é›¶ä¸€èƒŒåŒ…</td>
<td>èƒŒåŒ…ä¸­æ¯ä»¶ç‰©å“æœ€å¤šä»…ç”¨ä¸€æ¬¡</td>
</tr>
<tr>
<td>å®Œå…¨èƒŒåŒ…</td>
<td>æ¯ä»¶ç‰©å“æœ‰æ— é™ä¸ª</td>
</tr>
<tr>
<td>å¤šé‡èƒŒåŒ…</td>
<td>æ¯ç§ç‰©å“æœ€å¤šSiä¸ª</td>
</tr>
<tr>
<td>åˆ†ç»„èƒŒåŒ…</td>
<td>Nç»„ï¼Œæ¯ä¸€ç»„é‡Œæœ€å¤šåªèƒ½é€‰ä¸€ä¸ªç‰©å“</td>
</tr>
</tbody>
</table>
<h2 id="11-é›¶ä¸€èƒŒåŒ…é—®é¢˜"><a class="markdownIt-Anchor" href="#11-é›¶ä¸€èƒŒåŒ…é—®é¢˜"></a> 1.1 é›¶ä¸€èƒŒåŒ…é—®é¢˜</h2>
<blockquote>
<p>ğŸ“Œæœ‰Nä¸ªç‰©å“å’Œä¸€ä¸ªå®¹é‡ä¸ºVçš„èƒŒåŒ…ï¼Œæ¯ä¸ªç‰©å“çš„ä½“ç§¯æ˜¯Viï¼Œä»·å€¼æ˜¯Wiï¼Œæ¯ä»¶ç‰©å“ä»…ç”¨ä¸€æ¬¡ã€‚è¦æŒ‘é€‰ä¸€äº›ç‰©å“ï¼Œä½¿æ€»ä½“ç§¯å°äºç­‰äºVï¼Œç›®æ ‡è®©å¡è¿›èƒŒåŒ…çš„ç‰©å“æ€»ä»·å€¼æœ€å¤§ï¼Œæ±‚é—®æœ€å¤§ä»·å€¼</p>
</blockquote>
<ul>
<li>
<p>é€šè¿‡01èƒŒåŒ…å¯ä»¥å¼•å‡ºæ±‚è§£DPé—®é¢˜çš„ä¸€èˆ¬æ€è·¯</p>
<p><img src="https://oliverpai-post-pics.oss-cn-hangzhou.aliyuncs.com/image/dynamic-programming-basic/Fig1_xe6xHotGq9.png" alt="" /></p>
</li>
</ul>
<p>iè¡¨ç¤ºä¸åŒçš„ç‰©å“ï¼Œjè¡¨ç¤ºä¸åŒå®¹é‡çš„èƒŒåŒ…çš„ä½“ç§¯ã€‚f(i,j)å°±è¡¨ç¤ºæ»¡è¶³ï¼šä»å‰iä¸ªç‰©å“ä¸­é€‰ä¸”æ€»ä½“ç§¯å°äºç­‰äºjçš„æ‰€æœ‰é€‰æ³•ä¸­ï¼ˆé›†åˆï¼‰ï¼Œä»·å€¼çš„æœ€å¤§å€¼ï¼ˆå±æ€§ï¼‰ã€‚</p>
<p>çŠ¶æ€è®¡ç®—å°±æ˜¯ä¸€ç§é›†åˆçš„åˆ’åˆ†ï¼Œå°†å½“å‰çš„é›†åˆåˆ’åˆ†æˆè‹¥å¹²ä¸ªæ›´å°çš„é›†åˆï¼Œä½¿å¾—å½“å‰é›†åˆå¯ä»¥é€šè¿‡æ›´å°çš„é›†åˆç®—å‡ºæ¥ã€‚è€Œä¸”æ›´å°çš„é›†åˆæ˜¯ä¹‹å‰å·²ç»ç®—è¿‡çš„ã€‚å¯¹åº”åˆ°01èƒŒåŒ…ï¼Œå°±æ˜¯æŠŠæ‰€æœ‰é€‰æ³•åˆ†æˆä¸¤å¤§ç±»ï¼šä¸åŒ…å«ç¬¬iä¸ªç‰©å“ï¼Œå’ŒåŒ…å«ç¬¬iä¸ªç‰©å“ã€‚</p>
<blockquote>
<p>å­é›†åˆ’åˆ†åŸåˆ™ï¼šä¸é‡å¤ï¼ˆä¸ä¸¥æ ¼è¦æ±‚ï¼‰ &amp; ä¸æ¼æ‰ï¼ˆä¸¥æ ¼è¦æ±‚ï¼‰</p>
</blockquote>
<p>è¿™é‡Œçš„ç¬¬2ç±»ï¼šåŒ…å«ç¬¬iä¸ªç‰©å“ï¼Œç›´æ¥æ±‚å¹¶ä¸å¥½æ±‚ï¼Œå› ä¸ºå¯èƒ½çš„æƒ…å†µå¤ªå¤šäº†ã€‚è¿™é‡Œè¦æ›²çº¿æ•‘å›½ï¼Œå…ˆæŠŠæ¯ç§é€‰æ³•é‡Œçš„ç¬¬iä¸ªç‰©å“éƒ½å»æ‰ï¼Œæ­¤æ—¶å…¨éƒ¨å¯åŒ…å«ç¬¬iç‰©å“çš„é€‰æ³•æ•°æ˜¯ä¸å˜çš„ï¼Œè¿™äº›é€‰æ³•çš„æœ€å¤§ä»·å€¼ä¸ºf(i-1, j-Vi)ï¼Œé‚£ä¹ˆå†åŠ ä¸ŠW_iï¼Œå…¶å®å°±æ˜¯åŒ…å«ç¬¬iä¸ªç‰©å“çš„æ‰€æœ‰é€‰æ³•çš„æœ€å¤§å€¼ã€‚</p>
<p>æœ€ç»ˆï¼Œf(i,j)å°±æ˜¯ä¸¤ä¸ªå­é›†çš„æœ€å¤§å€¼ï¼Œå†å–ä¸€æ¬¡æœ€å¤§å€¼ã€‚</p>
<p>æ€»ç»“ä¸€ä¸‹çš„è¯ï¼šåŠ¨æ€è§„åˆ’çš„çŠ¶æ€å°±æ˜¯<strong>é›†åˆçš„æŸç§å±æ€§</strong>ï¼ˆæ­¤å¤„æ˜¯æ‰€æœ‰é€‰æ³•çš„æœ€å¤§ä»·å€¼ï¼‰ï¼ŒçŠ¶æ€è®¡ç®—çš„æ ¸å¿ƒå°±æ˜¯å¯¹é›†åˆè¿›è¡Œåˆ’åˆ†ã€‚</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æœ´ç´ ç®—æ³•ä»£ç ï¼šäºŒç»´çŠ¶æ€</span></span><br><span class="line"><span class="comment">//01èƒŒåŒ…çš„çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼šf(i,j) = Max( f(i-1, j), f(i-1, j-Vi)+Wi )</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1010</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n,m;                                 <span class="comment">//nç‰©å“æ•°, mæœ€å¤§ä½“ç§¯</span></span><br><span class="line"><span class="type">int</span> v[N],w[N];</span><br><span class="line"><span class="type">int</span> f[N][N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">  cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">  <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++)&#123;           <span class="comment">//iä»1å¼€å§‹ï¼Œå› ä¸ºf[0][...]å¿…ç„¶æ˜¯0</span></span><br><span class="line">    cin &gt;&gt; v[i] &gt;&gt; w[i];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>; j &lt;= m; j++)&#123;</span><br><span class="line">      f[i][j] = f[i<span class="number">-1</span>][j];               <span class="comment">//ä¸å«içš„å­é›†æ˜¯å¿…ç„¶å­˜åœ¨çš„</span></span><br><span class="line">      <span class="keyword">if</span>(j &gt;= v[i])                      <span class="comment">//åˆ¤æ–­å«içš„å­é›†æ˜¯å¦å¯ä»¥å­˜åœ¨</span></span><br><span class="line">        f[i][j] = <span class="built_in">max</span>(f[i][j], f[i<span class="number">-1</span>][j-v[i]] + w[i]);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  cout &lt;&lt; f[n][m] &lt;&lt; endl;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨æœ´ç´ äºŒç»´çŠ¶æ€çš„åŸºç¡€ä¸Šè¿˜å¯ä»¥ä¼˜åŒ–æˆä¸€ç»´çŠ¶æ€ï¼Œæœ‰ä¸¤ä¸ªå‰æï¼š</p>
<ol>
<li>
<p>f(i)å±‚åªç”¨åˆ°äº†f(i-1)å±‚ â€”&gt; æ»šåŠ¨æ•°ç»„(è¿­ä»£å™¨)</p>
</li>
<li>
<p>ä¸¤ä¸ªå­é›†çš„å…ƒç´ çš„ä½“ç§¯æ°¸è¿œå°äºç­‰äºjï¼Œè€Œä¸æ˜¯åœ¨jä¸¤ä¾§</p>
</li>
</ol>
<p>æ‰€ä»¥ä½¿ç”¨ä¸€ç»´æ•°ç»„ä¸åŒæ¬¡æ•°çš„å€¼å¯ä»¥æœ‰ç›¸å½“äºäºŒç»´æ•°ç»„ä¸åŒå±‚çš„æ•ˆæœ</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ä¼˜åŒ–ç®—æ³•ä»£ç ï¼šä¸€ç»´çŠ¶æ€</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1010</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n,m;                                 <span class="comment">//nç‰©å“æ•°, mæœ€å¤§ä½“ç§¯</span></span><br><span class="line"><span class="type">int</span> v[N],w[N];</span><br><span class="line"><span class="type">int</span> f[N];</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">  cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">  <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++)&#123;           <span class="comment">//iä»1å¼€å§‹ï¼Œå› ä¸ºf[0][...]å¿…ç„¶æ˜¯0</span></span><br><span class="line">    cin &gt;&gt; v[i] &gt;&gt; w[i];</span><br><span class="line">    <span class="comment">//å¦‚æœä¸‹é¢foréå†ä»å‰å‘åï¼Œç›¸å½“äºä½¿ç”¨äº†f[i][j-v[i]]è€Œéf[i-1][j-v[i]]</span></span><br><span class="line">    <span class="comment">//å› ä¸ºåä¸€ä¸ªæ•°ç”¨åˆ°äº†å‰ä¸€ä¸ªæ•°ï¼Œä½†å‰ä¸€ä¸ªæ•°å·²ç»åœ¨ä¸Šæ¬¡è¿­ä»£ä¸­è¢«ä»i-1æ›´æ–°i</span></span><br><span class="line">    <span class="comment">//å¦‚æœåå‘éå†ï¼Œåä¸€ä¸ªæ•°è¿˜æ˜¯ä¼šç”¨åˆ°å‰ä¸€ä¸ªæ•°ï¼Œä½†æ­¤æ—¶å‰ä¸€ä¸ªæ•°æœªè¢«æ›´æ–°</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> j = m; j &gt;= v[i]; j--)       <span class="comment">//æ³¨æ„è¿™é‡Œå’Œæœ´ç´ ç®—æ³•çš„é¡ºåºæ˜¯åçš„</span></span><br><span class="line">        f[j] = <span class="built_in">max</span>(f[j], f[j-v[i]] + w[i]);</span><br><span class="line">  &#125;</span><br><span class="line">  cout &lt;&lt; f[m] &lt;&lt; endl;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="12-å®Œå…¨èƒŒåŒ…é—®é¢˜"><a class="markdownIt-Anchor" href="#12-å®Œå…¨èƒŒåŒ…é—®é¢˜"></a> 1.2 å®Œå…¨èƒŒåŒ…é—®é¢˜</h2>
<blockquote>
<p>ğŸ“Œæœ‰Nä»¶ç‰©å“å’Œä¸€ä¸ªå®¹é‡ä¸ºVçš„èƒŒåŒ…ï¼Œæ¯ä¸ªç‰©å“çš„ä½“ç§¯æ˜¯Viï¼Œä»·å€¼æ˜¯Wiï¼Œæ¯ä»¶ç‰©å“å¯ç”¨æ— é™æ¬¡ã€‚æŒ‘é€‰ä¸€äº›ç‰©å“ï¼Œä½¿æ€»ä½“ç§¯å°äºç­‰äºVï¼Œè®©å¡è¿›èƒŒåŒ…çš„ç‰©å“æ€»ä»·å€¼æœ€å¤§ï¼Œæ±‚é—®æœ€å¤§ä»·å€¼</p>
</blockquote>
<ul>
<li>å®Œå…¨èƒŒåŒ…å’Œ01èƒŒåŒ…è§£æ³•å¾ˆç›¸ä¼¼ï¼Œé›†åˆçš„åˆ’åˆ†åˆ†ä¸ºä¸¤ç±»ï¼šä¸åŒ…å«ç¬¬iä¸ªç‰©å“ï¼Œå’ŒåŒ…å«ç¬¬iä¸ªç‰©å“ã€‚åªæ˜¯ç¬¬2ä¸ªç±»åˆ«ä¸­çš„æ›²çº¿æ•‘å›½æ”¹æˆäº†f( i-1, j-k*Vi)+k*Wiï¼Œkæ˜¯ç‰©å“içš„ä½¿ç”¨æ¬¡æ•°</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æœ´ç´ ç®—æ³•ä»£ç ï¼šäºŒç»´çŠ¶æ€</span></span><br><span class="line"><span class="comment">//å®Œå…¨èƒŒåŒ…çš„çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼šf(i,j) = Max( f(i-1, j), f(i-1, j-k*Vi)+k*Wi )</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1010</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n,m;                                 <span class="comment">//nç‰©å“æ•°, mæœ€å¤§ä½“ç§¯</span></span><br><span class="line"><span class="type">int</span> v[N],w[N];</span><br><span class="line"><span class="type">int</span> f[N][N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">  cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">  <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++)&#123;           <span class="comment">//iä»1å¼€å§‹ï¼Œå› ä¸ºf[0][...]å¿…ç„¶æ˜¯0</span></span><br><span class="line">    cin &gt;&gt; v[i] &gt;&gt; w[i];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>; j &lt;= m; j++)</span><br><span class="line">      <span class="keyword">for</span>(<span class="type">int</span> k = <span class="number">0</span>; k*v[i] &lt;= j; k++)   <span class="comment">//kä»0å¼€å§‹ï¼Œæ‰€ä»¥å…¶å®f[i-1][j]æ˜¯ä¸éœ€è¦çš„</span></span><br><span class="line">        f[i][j] = <span class="built_in">max</span>(f[i][j], f[i<span class="number">-1</span>][j-k*v[i]] + k*w[i]);</span><br><span class="line">  &#125;</span><br><span class="line">  cout &lt;&lt; f[n][m] &lt;&lt; endl;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç”±äºä¸Šè¿°æœ´ç´ ç®—æ³•ç”¨åˆ°ä¸‰ç§å¾ªç¯ï¼Œæ—¶é—´å¤æ‚åº¦è¿˜æ˜¯ç›¸å½“é«˜çš„ï¼Œå¯ä»¥é€šè¿‡çŠ¶æ€è½¬ç§»æ–¹ç¨‹å¯¹å…¶ä¼˜åŒ–</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//åŸçŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼šf(i,j) = Max( f(i-1,j), f(i-1,j-Vi)+Wi, f(i-1,j-2Vi)+2Wi, ... )</span></span><br><span class="line"><span class="comment">//è€ƒè™‘j-Viï¼š   f(i,j-Vi)= Max(           f(i-1,j-Vi),    f(i-1,j-2Vi)+Wi,  ... )</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//ç¬¬ä¸€æ¬¡ä¼˜åŒ–ï¼šäºŒç»´çŠ¶æ€</span></span><br><span class="line"><span class="comment">//ä¼˜åŒ–åçš„çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼šf(i,j) = Max( f(i-1,j), f(i,j-Vi)+Wi )</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1010</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n,m;                                 <span class="comment">//nç‰©å“æ•°, mæœ€å¤§ä½“ç§¯</span></span><br><span class="line"><span class="type">int</span> v[N],w[N];</span><br><span class="line"><span class="type">int</span> f[N][N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">  cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">  <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++)&#123;           <span class="comment">//iä»1å¼€å§‹ï¼Œå› ä¸ºf[0][...]å¿…ç„¶æ˜¯0</span></span><br><span class="line">    cin &gt;&gt; v[i] &gt;&gt; w[i];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>; j &lt;= m; j++)&#123;</span><br><span class="line">      f[i][j] = f[i<span class="number">-1</span>][j];               <span class="comment">//ä¸å«içš„å­é›†æ˜¯å¿…ç„¶å­˜åœ¨çš„</span></span><br><span class="line">      <span class="keyword">if</span>(j &gt;= v[i])                      <span class="comment">//åˆ¤æ–­å«içš„å­é›†æ˜¯å¦å¯ä»¥å­˜åœ¨</span></span><br><span class="line">        f[i][j] = <span class="built_in">max</span>(f[i][j], f[i][j-v[i]] + w[i]);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  cout &lt;&lt; f[n][m] &lt;&lt; endl;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç°åœ¨è¿˜å¯ä»¥æŒ‰ç…§01èƒŒåŒ…çš„ä¼˜åŒ–æ–¹å¼ï¼Œè¿›è¡Œè¿›ä¸€æ­¥ä¼˜åŒ–</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æœ€ç»ˆä¼˜åŒ–ï¼šä¸€ç»´çŠ¶æ€</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1010</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n,m;                                 <span class="comment">//nç‰©å“æ•°, mæœ€å¤§ä½“ç§¯</span></span><br><span class="line"><span class="type">int</span> v[N],w[N];</span><br><span class="line"><span class="type">int</span> f[N];</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">  cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">  <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++)&#123;           <span class="comment">//iä»1å¼€å§‹ï¼Œå› ä¸ºf[0][...]å¿…ç„¶æ˜¯0</span></span><br><span class="line">    cin &gt;&gt; v[i] &gt;&gt; w[i];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> j = v[i]; j &lt;= m; j++)       <span class="comment">//è¿™é‡Œéå†æ˜¯æ­£å‘çš„ï¼Œå› ä¸ºç¬¦åˆçŠ¶æ€è½¬ç§»æ–¹ç¨‹</span></span><br><span class="line">        f[j] = <span class="built_in">max</span>(f[j], f[j-v[i]] + w[i]);</span><br><span class="line">  &#125;</span><br><span class="line">  cout &lt;&lt; f[m] &lt;&lt; endl;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>ğŸ“ŒTipï¼šåŠ¨æ€è§„åˆ’ä¸­å¦‚æœçŠ¶æ€è½¬ç§»ç”¨åˆ°äº†ä¸Šä¸€å±‚çš„å†…å®¹ï¼Œå°±æŒ‰ä½“ç§¯ä»å°åˆ°å¤§çš„é¡ºåºéå†ï¼›å¦‚æœç”¨åˆ°æœ¬å±‚å†…å®¹ï¼Œåˆ™åè¿‡æ¥ï¼Œä½¿ç”¨ä½“ç§¯ä»å¤§åˆ°å°çš„é¡ºåº</p>
</blockquote>
<h2 id="13-å¤šé‡èƒŒåŒ…é—®é¢˜"><a class="markdownIt-Anchor" href="#13-å¤šé‡èƒŒåŒ…é—®é¢˜"></a> 1.3 å¤šé‡èƒŒåŒ…é—®é¢˜</h2>
<ul>
<li>
<p>å¤šé‡èƒŒåŒ…æ˜¯æœ‰é™æƒ…æ™¯ä¸‹çš„å®Œå…¨èƒŒåŒ…ï¼ŒäºŒè€…çš„æœ´ç´ å†™æ³•å‡ ä¹æ˜¯ä¸€æ ·çš„</p>
</li>
<li>
<p>ä¸èƒ½ä½¿ç”¨å®Œå…¨èƒŒåŒ…çš„ä¼˜åŒ–æ–¹æ³•æ¥ä¼˜åŒ–å¤šé‡èƒŒåŒ…</p>
<p>åŸæ–¹ç¨‹ï¼šf(i,j) = Max( f(i-1,j), f(i-1,j-Vi)+Wi, f(i-1,j-2Vi)+2Wi, â€¦ , f(i-1,j-Si * Vi)+Si * Vi )</p>
<p>j-Viï¼š f(i,j-Vi) = Max(              f(i-1,j-Vi),        f(i-1,j-2Vi)+Wi, â€¦ ,   f(i-1,j-Si * Vi)+(Si-1) * Vi,</p>
<p>f(i-1,j-(Si+1)*Vi)+Si*Vi  )</p>
<p>å®Œå…¨èƒŒåŒ…é—®é¢˜ä¸­çš„kæ˜¯å—èƒŒåŒ…å®¹é‡é™åˆ¶çš„ï¼Œä¸ä¼šå¤šçº¢å­—é‚£ä¸€é¡¹ï¼Œä½†å¤šé‡èƒŒåŒ…åŒæ—¶å—èƒŒåŒ…å®¹é‡å’ŒSié™åˆ¶ï¼Œå¦‚æœå¯è™‘æ‰€æœ‰æƒ…å†µï¼Œå°±æœ‰å¯èƒ½å‡ºç°çº¢å­—é‚£ä¸€é¡¹ã€‚é‚£ä¹ˆå®Œå…¨èƒŒåŒ…æ‰€ç”¨çš„ä¼˜åŒ–æ–¹æ³•ä¸å†é€‚ç”¨</p>
</li>
</ul>
<blockquote>
<p>ğŸ“Œæœ‰Nç§ç‰©å“å’Œä¸€ä¸ªå®¹é‡ä¸ºVçš„èƒŒåŒ…ï¼Œæ¯ç§ç‰©å“ä¸­ä¸€ä»¶çš„ä½“ç§¯æ˜¯Viï¼Œä»·å€¼æ˜¯Wiï¼Œæ¯ç§ç‰©å“æœ€å¤šå¯ç”¨Siæ¬¡ã€‚æŒ‘é€‰ä¸€äº›ç‰©å“ï¼Œä½¿æ€»ä½“ç§¯å°äºç­‰äºVï¼Œè®©å¡è¿›èƒŒåŒ…çš„ç‰©å“æ€»ä»·å€¼æœ€å¤§ï¼Œæ±‚é—®æœ€å¤§ä»·å€¼</p>
</blockquote>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æœ´ç´ ç®—æ³•ä»£ç ï¼šäºŒç»´çŠ¶æ€</span></span><br><span class="line"><span class="comment">//å¤šé‡èƒŒåŒ…çš„çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼šf(i,j) = Max( f(i-1, j), f(i-1, j-k*Vi)+k*Wi )</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1010</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n,m;                                 <span class="comment">//nç‰©å“æ•°, mæœ€å¤§ä½“ç§¯</span></span><br><span class="line"><span class="type">int</span> v[N],w[N],s[N];</span><br><span class="line"><span class="type">int</span> f[N][N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">  cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">  <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++)&#123;</span><br><span class="line">    cin &gt;&gt; v[i] &gt;&gt; w[i] &gt;&gt; s[i];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>; j &lt;= m; j++)</span><br><span class="line">      <span class="keyword">for</span>(<span class="type">int</span> k = <span class="number">0</span>; k*v[i] &lt;= j &amp;&amp; k &lt;= s[i]; k++)<span class="comment">//å¤šé‡å’Œå®Œå…¨çš„æœ´ç´ å†™æ³•ä¸åŒä¹‹å¤„ä¸ºæ­¤å¤„æ¡ä»¶</span></span><br><span class="line">        <span class="comment">//kä»0å¼€å§‹ï¼Œæ‰€ä»¥å…¶å®f[i-1][j]æ˜¯ä¸éœ€è¦çš„</span></span><br><span class="line">        f[i][j] = <span class="built_in">max</span>(f[i][j], f[i<span class="number">-1</span>][j-k*v[i]] + k*w[i]);</span><br><span class="line">  &#125;</span><br><span class="line">  cout &lt;&lt; f[n][m] &lt;&lt; endl;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>ä¼˜åŒ–æ–¹æ³•ï¼šäºŒè¿›åˆ¶ä¼˜åŒ–ï¼ï¼ï¼</li>
</ul>
<p>(å…¶å®è¿˜å¯ä»¥ä½¿ç”¨å•è°ƒé˜Ÿåˆ—ä¼˜åŒ–ï¼Œåé¢çš„å†…å®¹)</p>
<p>å¯¹äºä»»æ„å¤§å°s[i]ï¼Œé‡Œé¢æ‰€æœ‰çš„æ•°éƒ½å¯ä»¥ç”±ä¸€ç³»åˆ—â€œäºŒçš„æ•´æ•°æ¬¡æ–¹â€ç»„æˆï¼Œæ¯”å¦‚s=1023</p>
<p>åˆ™æ‰€æœ‰æ¯”1023å°çš„æ•°éƒ½å¯ä»¥ç”¨{1,2,4,8,â€¦,512}ç»„åˆå‡ºæ¥ã€‚</p>
<p>åˆæ¯”å¦‚200ï¼š1,2,4,8,16,32,64,73</p>
<p>é‚£ä¹ˆkçš„éå†é‚£ä¸€ç¯å…¶å®å°±å˜æˆäº†01èƒŒåŒ…é—®é¢˜ï¼Œä¸å†éœ€è¦éå†å…¨éƒ¨Siæ¬¡ï¼Œåªéœ€è®¾ç½®log2Siä¸ªèƒŒåŒ…</p>
<p>æ—¶é—´å¤æ‚åº¦ä»NVSåˆ°NVlog2S</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">25000</span>, M = <span class="number">2010</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n,m;</span><br><span class="line"><span class="type">int</span> v[N],w[N];</span><br><span class="line"><span class="type">int</span> f[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">  cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line"></span><br><span class="line">  <span class="type">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++)&#123;<span class="comment">//å»ºç«‹æ–°èƒŒåŒ…</span></span><br><span class="line">    <span class="type">int</span> a,b,s;</span><br><span class="line">    cin &gt;&gt; a &gt;&gt; b &gt;&gt; s;</span><br><span class="line">    <span class="type">int</span> k = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(k &lt;= s)&#123;</span><br><span class="line">      cnt++;</span><br><span class="line">      v[cnt] = a * k;</span><br><span class="line">      w[cnt] = b * k;</span><br><span class="line">      s -= k;</span><br><span class="line">      k *= <span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(s &gt; <span class="number">0</span>)&#123;</span><br><span class="line">      cnt ++;</span><br><span class="line">      v[cnt] = a * s;</span><br><span class="line">      w[cnt] = b * s;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  n = cnt;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> j = m; j &gt;= v[i]; j-- )</span><br><span class="line">      f[j] = <span class="built_in">max</span>(f[j],f[j-v[i]]+w[i]);</span><br><span class="line"></span><br><span class="line">  cout &lt;&lt; f[m] &lt;&lt;endl;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="14-åˆ†ç»„èƒŒåŒ…é—®é¢˜"><a class="markdownIt-Anchor" href="#14-åˆ†ç»„èƒŒåŒ…é—®é¢˜"></a> 1.4 åˆ†ç»„èƒŒåŒ…é—®é¢˜</h2>
<blockquote>
<p>ğŸ“Œæœ‰Nç»„ç‰©å“å’Œä¸€ä¸ªå®¹é‡ä¸ºVçš„èƒŒåŒ…ï¼Œæ¯ä»¶ç‰©å“çš„ä½“ç§¯æ˜¯Vijï¼Œä»·å€¼æ˜¯Wijï¼Œiæ˜¯ç»„å·ï¼Œjæ˜¯ç»„å†…ç¼–å·ï¼ŒåŒä¸€ç»„å†…çš„ç‰©å“æœ€å¤šé€‰ä¸€ä¸ªã€‚æŒ‘é€‰ä¸€äº›ç‰©å“ï¼Œä½¿æ€»ä½“ç§¯å°äºç­‰äºVï¼Œè®©å¡è¿›èƒŒåŒ…çš„ç‰©å“æ€»ä»·å€¼æœ€å¤§ï¼Œæ±‚é—®æœ€å¤§ä»·å€¼</p>
</blockquote>
<ul>
<li>çƒ­ç‹—åˆ’åˆ†æ³•(çŠ¶æ€è®¡ç®—)ï¼š</li>
</ul>
<p><img src="https://oliverpai-post-pics.oss-cn-hangzhou.aliyuncs.com/image/dynamic-programming-basic/Fig2_Kc0B6M3H-a.png" alt="" /></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">110</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n,m;</span><br><span class="line"><span class="type">int</span> v[N][N],w[N][N],s[N];                 <span class="comment">//s[i]è¡¨ç¤ºç¬¬iç»„æœ‰å¤šå°‘ç‰©å“</span></span><br><span class="line"><span class="type">int</span> f[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">  cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span> ;i &lt;= n; i++)&#123;</span><br><span class="line">    cin &gt;&gt; s[i];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>; j &lt; s[i]; j++ )</span><br><span class="line">      cin&gt;&gt;v[i][j]&gt;&gt;w[i][j];</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++)&#123; </span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> j = m; j &gt;= <span class="number">0</span>; j--)           <span class="comment">//å› ä¸ºè¦ç”¨åˆ°i-1ï¼Œæ‰€ä»¥é€†åºéå†</span></span><br><span class="line">      <span class="keyword">for</span>(<span class="type">int</span> k = <span class="number">0</span>; k &lt; s[i]; k++ )</span><br><span class="line">        <span class="keyword">if</span>(v[i][k] &lt;= j)</span><br><span class="line">          f[j] = <span class="built_in">max</span>(f[j],f[j-v[i][k]]+w[i][k]);</span><br><span class="line">  &#125;</span><br><span class="line">  cout &lt;&lt; f[m] &lt;&lt; endl;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="2-çº¿æ€§dp"><a class="markdownIt-Anchor" href="#2-çº¿æ€§dp"></a> 2 çº¿æ€§DP</h1>
<blockquote>
<p>çº¿æ€§DPå°±æ˜¯åœ¨çº¿æ€§ç»“æ„ä¸Šè½¬ç§»çŠ¶æ€ï¼Œå®Œæˆçº¿æ€§ç©ºé—´ä¸Šçš„é€’æ¨</p>
</blockquote>
<h2 id="21-ä¾‹é¢˜1æ•°å­—ä¸‰è§’å½¢"><a class="markdownIt-Anchor" href="#21-ä¾‹é¢˜1æ•°å­—ä¸‰è§’å½¢"></a> 2.1 ä¾‹é¢˜1ï¼šæ•°å­—ä¸‰è§’å½¢</h2>
<blockquote>
<p>ğŸ“Œç»™å®šä¸€ä¸ªå¦‚ä¸‹å›¾æ‰€ç¤ºçš„æ•°å­—ä¸‰è§’å½¢ï¼Œä»é¡¶éƒ¨å‡ºå‘ï¼Œåœ¨æ¯ä¸€ç»“ç‚¹å¯ä»¥é€‰æ‹©ç§»åŠ¨è‡³å…¶å·¦ä¸‹æ–¹çš„ç»“ç‚¹æˆ–ç§»åŠ¨è‡³å…¶å³ä¸‹æ–¹çš„ç»“ç‚¹ï¼Œä¸€ç›´èµ°åˆ°åº•å±‚ï¼Œè¦æ±‚æ‰¾å‡ºä¸€æ¡è·¯å¾„ï¼Œä½¿è·¯å¾„ä¸Šçš„æ•°å­—çš„å’Œæœ€å¤§<br />
7<br />
3    8<br />
8    1    0<br />
2    7    4    4<br />
4    5    2    6    5</p>
</blockquote>
<ul>
<li>æ±‚è§£æ€è·¯ï¼š</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">- çŠ¶æ€è¡¨ç¤ºï¼š</span><br><span class="line">f(i,j)ï¼šèµ°åˆ°(i,j)ä½ç½®çš„æ‰€æœ‰è·¯å¾„çš„é›†åˆçš„max</span><br><span class="line">                  é›†åˆ              å±æ€§</span><br><span class="line">               ç¬¬ä¸€åˆ—</span><br><span class="line">ç¬¬ä¸€è¡Œ         7  ç¬¬äºŒåˆ—</span><br><span class="line">ç¬¬äºŒè¡Œ       3   8  ç¬¬ä¸‰åˆ—</span><br><span class="line">ç¬¬ä¸‰è¡Œ     8   1   0  ç¬¬å››åˆ—</span><br><span class="line">ç¬¬å››è¡Œ   2   7   4   4  ç¬¬äº”åˆ—</span><br><span class="line">ç¬¬äº”è¡Œ 4   5   2   6   5</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">- çŠ¶æ€è®¡ç®—(ä»¤a(i,j)è¡¨ç¤º(i,j)ä½ç½®å…ƒç´ çš„å€¼)</span><br><span class="line">åˆ†ç±»ï¼šå·¦ä¸Šæ¥çš„è·¯å¾„    å’Œ   å³ä¸Šæ¥çš„è·¯å¾„ </span><br><span class="line">   f(i-1,j-1)+a(i,j)    f(i-1,j)+a(i,j)</span><br><span class="line"></span><br><span class="line">â‡’çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š</span><br><span class="line">f(i,j) = Max( f(i-1,j-1)+a(i,j) , </span><br><span class="line">              f(i-1,j)+a(i,j)) )</span><br></pre></td></tr></table></figure>
<ul>
<li>ä»£ç ï¼š</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">512</span>, INF = <span class="number">1e9</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="type">int</span> a[N][N];</span><br><span class="line"><span class="type">int</span> f[N][N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">  <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;n);                    <span class="comment">//ä¸€å…±æœ‰å‡ è¡Œå‡ åˆ—</span></span><br><span class="line">  <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++)         <span class="comment">//è·å–ä¸‰è§’å½¢</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>; j &lt;= i; j++)</span><br><span class="line">      <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;a[i][j]);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>; j &lt;= i + <span class="number">1</span>; j++)   <span class="comment">//è¿™é‡Œçš„åˆ—éœ€è¦ä»0å¼€å§‹ï¼Œåˆ°i+1ç»“æŸï¼Œè¡¥å…¨è¾¹ç¼˜æ•°å­—ä¸¤ä¾§</span></span><br><span class="line">      f[i][j] = -INF;                 <span class="comment">//é˜²æ­¢æ±‚å’Œä¸ºè´Ÿæ•°æ—¶ï¼Œåˆå€¼ä¸º0çš„è¯¯åˆ¤</span></span><br><span class="line"></span><br><span class="line">  f[<span class="number">1</span>][<span class="number">1</span>] = a[<span class="number">1</span>][<span class="number">1</span>];</span><br><span class="line">  <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">2</span>; i &lt;= n; i++)</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>; j &lt;= i; j++)</span><br><span class="line">      f[i][j] = <span class="built_in">max</span>(f[i<span class="number">-1</span>][j<span class="number">-1</span>]+a[i][j], f[i<span class="number">-1</span>][j]+a[i][j]);</span><br><span class="line"></span><br><span class="line">  <span class="type">int</span> res = -INF;</span><br><span class="line">  <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++)res = <span class="built_in">max</span>(res,f[n][i]);</span><br><span class="line"></span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>, res);</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="22-ä¾‹é¢˜2æœ€å¤§ä¸Šå‡å­åºåˆ—"><a class="markdownIt-Anchor" href="#22-ä¾‹é¢˜2æœ€å¤§ä¸Šå‡å­åºåˆ—"></a> 2.2 ä¾‹é¢˜2ï¼šæœ€å¤§ä¸Šå‡å­åºåˆ—</h2>
<blockquote>
<p>ğŸ“Œç»™å®šä¸€ä¸ªé•¿åº¦ä¸ºNçš„æ•°åˆ—ï¼Œæ±‚æ•°å€¼ä¸¥æ ¼å•è°ƒé€’å¢çš„å­åºåˆ—çš„é•¿åº¦æœ€é•¿æ˜¯å¤šå°‘ï¼Œå¹¶è®°å½•å­åºåˆ—<br />
è¾“å…¥æ ·ä¾‹ï¼š<br />
7  20;<br />
3 1 2 1 8 5 6<br />
ç»“æœï¼š<br />
4<br />
1 2 5 6</p>
</blockquote>
<ul>
<li>æœ´ç´ æ–¹æ³•æ±‚è§£æ€è·¯ï¼š</li>
</ul>
<!---->
<pre><code>- çŠ¶æ€è¡¨ç¤ºï¼š
f[i]ï¼šåˆ°ç¬¬iä¸ªä½ç½®çš„å­åºåˆ—é›†åˆçš„max
</code></pre>
<!---->
<pre><code>- çŠ¶æ€è®¡ç®—ï¼š
f[i] = f[j]+1, j = 1,2,...,i-1 &amp;&amp; a[j]&lt;a[i]
</code></pre>
<ul>
<li>æœ´ç´ æ–¹æ³•ä»£ç ï¼š</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1010</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="type">int</span> a[N], f[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;n);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++ ) <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;a[i]);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++ )</span><br><span class="line">    &#123;</span><br><span class="line">        f[i] = <span class="number">1</span>; <span class="comment">// åªæœ‰a[i]ä¸€ä¸ªæ•°</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt; i; j ++ )</span><br><span class="line">            <span class="keyword">if</span> (a[j] &lt; a[i])</span><br><span class="line">                f[i] = <span class="built_in">max</span>(f[i], f[j] + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++ ) res = <span class="built_in">max</span>(res, f[i]);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, res);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>ä¼˜åŒ–</strong></li>
</ul>
<p><strong>æ±‚è§£æ€è·¯ï¼š</strong></p>
<p>å¯¹äºåƒ</p>
<pre><code>7
3 1 2 1 8 5 6
</code></pre>
<p>è¿™æ ·çš„åºåˆ—ï¼Œåœ¨èµ°åˆ°iæ—¶ï¼Œå¯ä»¥å­˜å‚¨iä¹‹å‰çš„å„ä¸ªé•¿åº¦é‡Œçš„ä¸Šå‡å­åºåˆ—ä¸­æœ«å°¾æœ€å°å€¼ï¼Œæ¯”å¦‚8ä¹‹å‰ï¼Œé•¿åº¦ä¸º1çš„ä¸Šå‡å­åºåˆ—çš„æœ«å°¾å€¼å¯ä»¥æœ‰3å’Œ1ï¼Œä½†æ˜¯3æ˜¯æ²¡å¿…è¦å­˜çš„ï¼Œèƒ½æ¥åœ¨3åä¹Ÿå¿…ç„¶èƒ½æ¥åœ¨1å</p>
<p>è€Œä¸”å„ä¸ªé•¿åº¦çš„ä¸Šå‡å­åºåˆ—çš„æœ«å°¾æœ€å°å€¼å¿…ç„¶ä¸¥æ ¼å•è°ƒé€’å¢</p>
<p><img src="https://oliverpai-post-pics.oss-cn-hangzhou.aliyuncs.com/image/dynamic-programming-basic/Fig3_tLiUPdQcXh.png" alt="" /></p>
<p>å¯ä»¥ç”¨åè¯æ³•è¯æ˜è¿™ä¸€æ€§è´¨ï¼š</p>
<p>è‹¥q6æ¯”q5å°ï¼Œé‚£ä¹ˆq6æ‰€åœ¨å­åºåˆ—çš„ç¬¬5ä¸ªå€¼ä¹Ÿæ¯”q5å°ï¼Œé‚£ä¹ˆq5å°±ä¸æ˜¯é•¿åº¦ä¸º5çš„å­åºåˆ—ä¸­çš„æœ€å°æœ«å°¾å€¼ï¼ŒçŸ›ç›¾</p>
<p>äºæ˜¯å½“èµ°åˆ°ç¬¬iä¸ªå­—ç¬¦a[i]æ—¶ï¼Œå¯ä»¥æŸ¥æ‰¾a[i]ä¹‹å‰æ‰€æœ‰é•¿åº¦å­åºåˆ—ä¸­ï¼Œå°äºa[i]çš„æœ€å¤§çš„æœ«å°¾æœ€å°å€¼ã€‚</p>
<p>æ¯”å¦‚è¯´ï¼Œq4&lt;a[i]ï¼Œè€Œq5&gt;a[i]ï¼Œé‚£ä¹ˆq4å°±æ˜¯é‚£ä¸ªæœ€å¤§çš„æœ«å°¾æœ€å°å€¼ï¼Œè€Œä¸”q5å°†è¢«æ›¿æ¢æˆa[i]</p>
<p>æŸ¥æ‰¾æœ€å¤§çš„æœ«å°¾æœ€å°å€¼æ—¶å¯ä»¥ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾ã€‚æ—¶é—´å¤æ‚åº¦è¾ƒä¹‹å‰å¤§å¤§å‡å°‘ã€‚</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">100010</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="type">int</span> a[N];</span><br><span class="line"><span class="type">int</span> q[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;n);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i ++ ) <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;a[i]);</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> len = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i ++ )</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> l = <span class="number">0</span>, r = len;</span><br><span class="line">        <span class="keyword">while</span> (l &lt; r)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> mid = l + r + <span class="number">1</span> &gt;&gt; <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span> (q[mid] &lt; a[i]) l = mid;</span><br><span class="line">            <span class="keyword">else</span> r = mid - <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        len = <span class="built_in">max</span>(len, r + <span class="number">1</span>);</span><br><span class="line">        q[r + <span class="number">1</span>] = a[i];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, len);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="23-ä¾‹é¢˜3-æœ€é•¿å…¬å…±å­åºåˆ—"><a class="markdownIt-Anchor" href="#23-ä¾‹é¢˜3-æœ€é•¿å…¬å…±å­åºåˆ—"></a> 2.3 ä¾‹é¢˜3ï¼š æœ€é•¿å…¬å…±å­åºåˆ—</h2>
<blockquote>
<p>ğŸ“Œç»™å®šä¸¤ä¸ªé•¿åº¦åˆ†åˆ«ä¸ºNå’ŒMçš„å­—ç¬¦ä¸²Aå’ŒBï¼Œæ±‚æ—¢æ˜¯Açš„å­åºåˆ—åˆæ˜¯Bçš„å­åºåˆ—çš„å­—ç¬¦ä¸²é•¿åº¦æœ€é•¿æ˜¯å¤šå°‘<br />
è¾“å…¥æ¡ˆä¾‹ï¼š<br />
4 5<br />
acbd<br />
abedc<br />
è¾“å‡ºï¼š3(abd)</p>
</blockquote>
<ul>
<li>æ±‚è§£æ€è·¯ï¼š</li>
</ul>
<p><strong>çŠ¶æ€è¡¨ç¤º</strong>ï¼š</p>
<p>f(i,j)ï¼šæ‰€æœ‰åœ¨Aåºåˆ—çš„å‰iä¸ªå­—æ¯ä¸­å‡ºç°ï¼Œå¹¶åœ¨Båºåˆ—çš„å‰jä¸ªå­—æ¯ä¸­å‡ºç°çš„å­åºåˆ—çš„é›†åˆä¸­çš„Max</p>
<p><strong>çŠ¶æ€è®¡ç®—ï¼š</strong></p>
<p><img src="https://oliverpai-post-pics.oss-cn-hangzhou.aliyuncs.com/image/dynamic-programming-basic/Fig4_ujvYujEOup.png" alt="" /></p>
<p>ä¸Šè¿°å››è€…åˆ†åˆ«æ˜¯ f(i-1, j-1) ã€f(i-1, j) ã€f(i, j-1) ã€f(i-1, j-1)+1</p>
<p>éœ€è¦æ³¨æ„ä¸­é—´äºŒè€…ï¼Œf(i-1, j)å¹¶ä¸æ˜¯ä¸¥æ ¼çš„01æƒ…å†µï¼Œf(i, j-1)ä¹Ÿä¸æ˜¯ä¸¥æ ¼çš„10æƒ…å†µ</p>
<pre><code>f(i-1,j)æ˜¯ï¼š
æ‰€æœ‰åœ¨Aåºåˆ—çš„å‰i-1ä¸ªå­—æ¯ä¸­å‡ºç°
å¹¶åœ¨Båºåˆ—çš„å‰jä¸ªå­—æ¯ä¸­å‡ºç°çš„å­åºåˆ—é›†åˆ

01æ˜¯ï¼š
ä¸åŒ…å«Aåºåˆ—çš„ç¬¬iä¸ªå­—æ¯ï¼Œ
ä½†æ˜¯åŒ…å«Båºåˆ—çš„ç¬¬jä¸ªå­—æ¯çš„å­åºåˆ—çš„é›†åˆ

å‰è€…åŒ…å«åè€…ï¼ŒäºŒè€…å¹¶ä¸ç›¸ç­‰
</code></pre>
<!---->
<pre><code>f(i,j-1)æ˜¯ï¼š
æ‰€æœ‰åœ¨Aåºåˆ—çš„å‰iä¸ªå­—æ¯ä¸­å‡ºç°
å¹¶åœ¨Båºåˆ—çš„å‰j-1ä¸ªå­—æ¯ä¸­å‡ºç°çš„å­åºåˆ—é›†åˆ

10æ˜¯ï¼š
åŒ…å«Aåºåˆ—çš„ç¬¬iä¸ªå­—æ¯ï¼Œ
ä½†æ˜¯ä¸åŒ…å«Båºåˆ—çš„ç¬¬jä¸ªå­—æ¯çš„å­åºåˆ—çš„é›†åˆ

å‰è€…åŒ…å«åè€…ï¼ŒäºŒè€…å¹¶ä¸ç›¸ç­‰
</code></pre>
<p>æ±‚æœ€å¤§å€¼æ—¶é‡å¤æ˜¯æ²¡æœ‰å…³ç³»çš„ï¼Œåªè¦ä¿è¯ä¸æ¼å°±è¡Œ</p>
<p>äº‹å®ä¸Šç¬¬ä¸€é¡¹f(i-1, j-1)ä¹Ÿæ²¡æœ‰å¿…è¦å†™ï¼Œå› ä¸ºå®ƒè¢«f(i-1, j)å’Œf(i, j-1)åŒ…å«äº†</p>
<ul>
<li>ä»£ç ï¼š</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1010</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n, m;</span><br><span class="line"><span class="type">char</span> a[N], b[N];</span><br><span class="line"><span class="type">int</span> f[N][N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;n, &amp;m);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%s%s&quot;</span>, a + <span class="number">1</span>, b + <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++ )</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= m; j ++ )</span><br><span class="line">        &#123;</span><br><span class="line">            f[i][j] = <span class="built_in">max</span>(f[i - <span class="number">1</span>][j], f[i][j - <span class="number">1</span>]);</span><br><span class="line">            <span class="keyword">if</span> (a[i] == b[j]) f[i][j] = <span class="built_in">max</span>(f[i][j], f[i - <span class="number">1</span>][j - <span class="number">1</span>] + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, f[n][m]);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="24-ä¾‹é¢˜4æœ€çŸ­ç¼–è¾‘è·ç¦»"><a class="markdownIt-Anchor" href="#24-ä¾‹é¢˜4æœ€çŸ­ç¼–è¾‘è·ç¦»"></a> 2.4 ä¾‹é¢˜4ï¼šæœ€çŸ­ç¼–è¾‘è·ç¦»</h2>
<blockquote>
<p>ğŸ“Œç»™å®šä¸¤ä¸ªå­—ç¬¦ä¸²Aå’ŒBï¼Œç°åœ¨è¦å°†Aç»è¿‡è‹¥å¹²æ“ä½œå˜ä¸ºBï¼Œå¯è¿›è¡Œçš„æ“ä½œæœ‰ï¼š<br />
- åˆ é™¤ï¼šå°†å­—ç¬¦ä¸²Aä¸­çš„æŸä¸ªå­—ç¬¦åˆ é™¤ã€‚<br />
- æ’å…¥ï¼šåœ¨å­—ç¬¦ä¸²Açš„æŸä¸ªä½ç½®æ’å…¥æŸä¸ªå­—ç¬¦ã€‚<br />
- æ›¿æ¢ï¼šå°†å­—ç¬¦ä¸²Aä¸­çš„æŸä¸ªå­—ç¬¦æ›¿æ¢ä¸ºå¦ä¸€ä¸ªå­—ç¬¦ã€‚<br />
ç°åœ¨è¯·ä½ æ±‚å‡ºï¼Œå°†Aå˜ä¸ºBè‡³å°‘éœ€è¦è¿›è¡Œå¤šå°‘æ¬¡æ“ä½œã€‚</p>
</blockquote>
<ul>
<li>æ±‚è§£æ€è·¯ï¼š</li>
</ul>
<p><strong>çŠ¶æ€è¡¨ç¤ºï¼š</strong></p>
<p>f(i,j)ï¼šæ‰€æœ‰ä»A[1~i]å˜åˆ°B[1~j]çš„æ“ä½œæ–¹å¼çš„é›†åˆçš„min</p>
<p><strong>çŠ¶æ€è®¡ç®—ï¼š</strong></p>
<p><img src="https://oliverpai-post-pics.oss-cn-hangzhou.aliyuncs.com/image/dynamic-programming-basic/Fig5_7BHn4a-NxW.png" alt="" /></p>
<p>â†’ çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š</p>
<p>f(i, j) = min( f(i-1, j) + 1, f(i, j-1) + 1, f(i-1, j-1) + 1/0 )</p>
<p>åˆ çš„å‰ææ˜¯A[1~i-1]==B[1~j]</p>
<p>å¢çš„å‰ææ˜¯A[1~i]==B[1~j-1]</p>
<p>æ”¹çš„å‰ææ˜¯A[1~i-1]==B[1~j-1]ï¼Œå¦‚æœA[i]==B[j]ï¼ŒåŠ 0ï¼Œå¦åˆ™åŠ 1</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1010</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n, m;</span><br><span class="line"><span class="type">char</span> a[N], b[N];</span><br><span class="line"><span class="type">int</span> f[N][N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">  <span class="built_in">scanf</span>(<span class="string">&quot;%d%s&quot;</span>, &amp;n, a+<span class="number">1</span>);<span class="comment">//æ¥æ”¶aå­—ç¬¦ä¸²</span></span><br><span class="line">  <span class="built_in">scanf</span>(<span class="string">&quot;%d%s&quot;</span>, &amp;m, b+<span class="number">1</span>);<span class="comment">//æ¥æ”¶bå­—ç¬¦ä¸²</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>; j &lt;= m; j++) f[<span class="number">0</span>][j] = j;<span class="comment">//aä¸ºç©ºæ—¶ï¼Œåªèƒ½å¢ï¼Œå¢åŠ bçš„é•¿åº¦</span></span><br><span class="line">  <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt;= n; i++) f[i][<span class="number">0</span>] = i;<span class="comment">//bä¸ºç©ºæ—¶ï¼Œåªèƒ½åˆ ï¼Œåˆ é™¤açš„é•¿åº¦</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++)&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>; j &lt;= m; j++)&#123;</span><br><span class="line">      f[i][j] = <span class="built_in">min</span>(f[i<span class="number">-1</span>][j]+<span class="number">1</span>, f[i][j<span class="number">-1</span>]+<span class="number">1</span>);<span class="comment">//å‰ä¸¤ç§æƒ…å†µç›´æ¥æ¯”è¾ƒ</span></span><br><span class="line">      <span class="keyword">if</span>(a[i] == b[j])f[i][j] = <span class="built_in">min</span>(f[i][j], f[i<span class="number">-1</span>][j<span class="number">-1</span>]);</span><br><span class="line">      <span class="keyword">else</span> f[i][j] = <span class="built_in">min</span>(f[i][j], f[i<span class="number">-1</span>][j<span class="number">-1</span>] + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;  </span><br><span class="line"></span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>, f[n][m]);  </span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>ä¾‹é¢˜å˜å½¢ï¼š</strong></li>
</ul>
<blockquote>
<p>ğŸ“Œç»™å®šnä¸ªé•¿åº¦ä¸è¶…è¿‡10çš„å­—ç¬¦ä¸²ä»¥åŠmæ¬¡è¯¢é—®ï¼Œæ¯æ¬¡è¯¢é—®ç»™å‡ºä¸€ä¸ªå­—ç¬¦ä¸²å’Œä¸€ä¸ªæ“ä½œæ¬¡æ•°ä¸Šé™ã€‚<br />
å¯¹äºæ¯æ¬¡è¯¢é—®ï¼Œè¯·ä½ æ±‚å‡ºç»™å®šçš„nä¸ªå­—ç¬¦ä¸²ä¸­æœ‰å¤šå°‘ä¸ªå­—ç¬¦ä¸²å¯ä»¥åœ¨ä¸Šé™æ“ä½œæ¬¡æ•°å†…ç»è¿‡æ“ä½œå˜æˆè¯¢é—®ç»™å‡ºçš„å­—ç¬¦ä¸²ã€‚<br />
æ¯ä¸ªå¯¹å­—ç¬¦ä¸²è¿›è¡Œçš„å•ä¸ªå­—ç¬¦çš„æ’å…¥ã€åˆ é™¤æˆ–æ›¿æ¢ç®—ä½œä¸€æ¬¡æ“ä½œã€‚</p>
</blockquote>
<p>å…¶å®å°±æ˜¯å°†åˆšåˆšçš„è¿‡ç¨‹æ“ä½œn*mæ¬¡</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">15</span>, M = <span class="number">1010</span>;</span><br><span class="line"><span class="type">int</span> n, m;</span><br><span class="line"><span class="type">int</span> f[N][N];</span><br><span class="line"><span class="type">char</span> str[M][N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">edit_distance</span><span class="params">(<span class="type">char</span> a[], <span class="type">char</span> b[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> la = <span class="built_in">strlen</span>(a + <span class="number">1</span>), lb = <span class="built_in">strlen</span>(b + <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt;= lb; i ++ ) f[<span class="number">0</span>][i] = i;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt;= la; i ++ ) f[i][<span class="number">0</span>] = i;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= la; i ++ )</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= lb; j ++ )</span><br><span class="line">        &#123;</span><br><span class="line">            f[i][j] = <span class="built_in">min</span>(f[i - <span class="number">1</span>][j] + <span class="number">1</span>, f[i][j - <span class="number">1</span>] + <span class="number">1</span>);</span><br><span class="line">            f[i][j] = <span class="built_in">min</span>(f[i][j], f[i - <span class="number">1</span>][j - <span class="number">1</span>] + (a[i] != b[j]));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> f[la][lb];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;n, &amp;m);                                     <span class="comment">//nä¸ªå­—ç¬¦ä¸²ï¼Œmæ¬¡è¯¢é—®</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i ++ ) <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>, str[i] + <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (m -- )</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">char</span> s[N];</span><br><span class="line">        <span class="type">int</span> limit;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%s%d&quot;</span>, s + <span class="number">1</span>, &amp;limit);</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i ++ )</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">edit_distance</span>(str[i], s) &lt;= limit)</span><br><span class="line">                res ++ ;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, res);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="3-åŒºé—´dp"><a class="markdownIt-Anchor" href="#3-åŒºé—´dp"></a> 3 åŒºé—´DP</h1>
<blockquote>
<p>åŒºé—´dpå°±æ˜¯åœ¨åŒºé—´ä¸Šè¿›è¡ŒåŠ¨æ€è§„åˆ’ï¼Œæ±‚è§£ä¸€æ®µåŒºé—´ä¸Šçš„æœ€ä¼˜è§£ã€‚<br />
ä¸»è¦æ˜¯é€šè¿‡åˆå¹¶å°åŒºé—´çš„æœ€ä¼˜è§£ï¼Œè¿›è€Œå¾—å‡ºæ•´ä¸ªå¤§åŒºé—´ä¸Šæœ€ä¼˜è§£çš„dpç®—æ³•</p>
</blockquote>
<h2 id="31-ä¾‹é¢˜1çŸ³å­åˆå¹¶"><a class="markdownIt-Anchor" href="#31-ä¾‹é¢˜1çŸ³å­åˆå¹¶"></a> 3.1 ä¾‹é¢˜1ï¼šçŸ³å­åˆå¹¶</h2>
<blockquote>
<p>ğŸ“Œè®¾æœ‰Nå †çŸ³å­æ’æˆä¸€æ’ï¼Œå…¶ç¼–å·ä¸º1ï¼Œ2ï¼Œ3ï¼Œâ€¦ï¼ŒNã€‚<br />
æ¯å †çŸ³å­æœ‰ä¸€å®šçš„è´¨é‡ï¼Œå¯ä»¥ç”¨ä¸€ä¸ªæ•´æ•°æ¥æè¿°ï¼Œç°åœ¨è¦å°†è¿™Nå †çŸ³å­åˆå¹¶æˆä¸ºä¸€å †ã€‚</p>
<p>æ¯æ¬¡åªèƒ½åˆå¹¶ç›¸é‚»çš„ä¸¤å †ï¼Œåˆå¹¶çš„ä»£ä»·ä¸ºè¿™ä¸¤å †çŸ³å­çš„è´¨é‡ä¹‹å’Œï¼Œåˆå¹¶åä¸è¿™ä¸¤å †çŸ³å­ç›¸é‚»çš„çŸ³å­å°†å’Œæ–°å †ç›¸é‚»ï¼Œåˆå¹¶æ—¶ç”±äºé€‰æ‹©çš„é¡ºåºä¸åŒï¼Œåˆå¹¶çš„æ€»ä»£ä»·ä¹Ÿä¸ç›¸åŒã€‚</p>
<p>ä¾‹å¦‚æœ‰4å †çŸ³å­åˆ†åˆ«ä¸º 1 3 5 2ï¼Œ æˆ‘ä»¬å¯ä»¥å…ˆåˆå¹¶1ã€2å †ï¼Œä»£ä»·ä¸º4ï¼Œå¾—åˆ°4 5 2ï¼Œ åˆåˆå¹¶ 1ï¼Œ2å †ï¼Œä»£ä»·ä¸º9ï¼Œå¾—åˆ°9 2 ï¼Œå†åˆå¹¶å¾—åˆ°11ï¼Œæ€»ä»£ä»·ä¸º4+9+11=24ï¼›</p>
<p>å¦‚æœç¬¬äºŒæ­¥æ˜¯å…ˆåˆå¹¶2ï¼Œ3å †ï¼Œåˆ™ä»£ä»·ä¸º7ï¼Œå¾—åˆ°4 7ï¼Œæœ€åä¸€æ¬¡åˆå¹¶ä»£ä»·ä¸º11ï¼Œæ€»ä»£ä»·ä¸º4+7+11=22ã€‚</p>
<p>é—®é¢˜æ˜¯ï¼šæ‰¾å‡ºä¸€ç§åˆç†çš„æ–¹æ³•ï¼Œä½¿æ€»çš„ä»£ä»·æœ€å°ï¼Œè¾“å‡ºæœ€å°ä»£ä»·ã€‚</p>
</blockquote>
<ul>
<li>æ±‚è§£æ€è·¯ï¼š</li>
</ul>
<p><strong>çŠ¶æ€è¡¨ç¤º</strong>ï¼š</p>
<p>f(i,j)ï¼šæ‰€æœ‰å°†ç¬¬iå †çŸ³å­~ç¬¬jå †çŸ³å­åˆå¹¶æˆä¸€å †çŸ³å­çš„åˆå¹¶æ–¹å¼çš„é›†åˆä¸­çš„Min</p>
<p><strong>çŠ¶æ€è®¡ç®—</strong>ï¼š</p>
<ol>
<li>çŠ¶æ€åˆ’åˆ†ï¼š</li>
</ol>
<p><img src="https://oliverpai-post-pics.oss-cn-hangzhou.aliyuncs.com/image/dynamic-programming-basic/Fig6_txs_Inikl4.png" alt="" /></p>
<p>2.  çŠ¶æ€è½¬ç§»ï¼šf(i, j) = Min( f(i, m) + f(m+1, j) + sum(j)-sum(i-1) ), m = i,i+1,â€¦,j-1</p>
<p>è“å­—æ˜¯å‰ç¼€å’Œï¼Œç”¨äºè®¡ç®—å½“å‰ä¸¤å †çš„ä»£ä»·</p>
<p>æœ€ç»ˆçŠ¶æ€å°±æ˜¯f(1,n)</p>
<p>çŠ¶æ€è½¬ç§»çš„å›¾è§£ï¼š</p>
<p><img src="https://oliverpai-post-pics.oss-cn-hangzhou.aliyuncs.com/image/dynamic-programming-basic/Fig7_XQbN7O-acE.png" alt="" /></p>
<ul>
<li>ä»£ç ï¼š</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">310</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n;<span class="comment">//ä¸€å…±å¤šå°‘çŸ³å †</span></span><br><span class="line"><span class="type">int</span> s[N];<span class="comment">//æ¯å †çš„é‡é‡</span></span><br><span class="line"><span class="type">int</span> f[N][N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;n);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++ ) <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;s[i]);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++ ) s[i] += s[i - <span class="number">1</span>];<span class="comment">//æ±‚å‰ç¼€å’Œ</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> len = <span class="number">2</span>; len &lt;= n; len ++ )</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i + len - <span class="number">1</span> &lt;= n; i ++ )&#123;</span><br><span class="line">            <span class="type">int</span> l = i, r = i + len - <span class="number">1</span>;</span><br><span class="line">            f[l][r] = <span class="number">1e8</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> k = l; k &lt; r; k ++ )</span><br><span class="line">                f[l][r] = <span class="built_in">min</span>(f[l][r], f[l][k] + f[k + <span class="number">1</span>][r] + s[r] - s[l - <span class="number">1</span>]);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, f[<span class="number">1</span>][n]);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="4-è®¡æ•°ç±»dp"><a class="markdownIt-Anchor" href="#4-è®¡æ•°ç±»dp"></a> 4 è®¡æ•°ç±»DP</h1>
<blockquote>
<p>å°†DPç®—æ³•åº”ç”¨åœ¨è®¡æ•°ç±»é—®é¢˜</p>
</blockquote>
<h2 id="41-ä¾‹é¢˜1æ•´æ•°åˆ’åˆ†"><a class="markdownIt-Anchor" href="#41-ä¾‹é¢˜1æ•´æ•°åˆ’åˆ†"></a> 4.1 ä¾‹é¢˜1ï¼šæ•´æ•°åˆ’åˆ†</h2>
<blockquote>
<p>ğŸ“Œä¸€ä¸ªæ­£æ•´æ•°nå¯ä»¥è¡¨ç¤ºæˆè‹¥å¹²ä¸ªæ­£æ•´æ•°ä¹‹å’Œï¼Œå½¢å¦‚ï¼šn=n1+n2+â€¦+nkï¼Œå…¶ä¸­n1â‰¥n2â‰¥â€¦â‰¥nk,kâ‰¥1ã€‚</p>
<p>æˆ‘ä»¬å°†è¿™æ ·çš„ä¸€ç§è¡¨ç¤ºç§°ä¸ºæ­£æ•´æ•°nçš„ä¸€ç§åˆ’åˆ†ã€‚</p>
<p>ç°åœ¨ç»™å®šä¸€ä¸ªæ­£æ•´æ•°nï¼Œè¯·ä½ æ±‚å‡ºnå…±æœ‰å¤šå°‘ç§ä¸åŒçš„åˆ’åˆ†æ–¹æ³•ã€‚<br />
ç”±äºç­”æ¡ˆå¯èƒ½å¾ˆå¤§ï¼Œè¾“å‡ºç»“æœè¯·å¯¹109+7å–æ¨¡ã€‚</p>
</blockquote>
<ul>
<li><strong>æ€è·¯ä¸€ï¼šèƒŒåŒ…é—®é¢˜</strong></li>
</ul>
<p><strong>çŠ¶æ€è¡¨ç¤ºï¼š</strong></p>
<p>f(i, j)ï¼šä»1~iä¸­é€‰å–æ•°å€¼åï¼Œæ±‚å’Œæ­£å¥½æ˜¯jçš„é›†åˆä¸­çš„æ•°å€¼æ•°é‡</p>
<p><strong>çŠ¶æ€è®¡ç®—ï¼š</strong></p>
<p><img src="https://oliverpai-post-pics.oss-cn-hangzhou.aliyuncs.com/image/dynamic-programming-basic/Fig8_WIbazbZy8S.png" alt="" /></p>
<p><strong>ä¼˜åŒ–ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">å½“å‰çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼šf(i,j) = f(i-1,j) + f(i-1,j-i) + f(i-1,j-2*i)+...+f(i-1,j-s*i)</span><br><span class="line">               f(i,j-i)=           f(i-1,j-i) + f(i-1,j-2*i)+...+f(i-1,j-s*i)</span><br><span class="line">ä¼˜åŒ–åè½¬ç§»æ–¹ç¨‹ï¼š  f(i,j) = f(i-1,j) + f(i,j-i)</span><br><span class="line">ä¼˜åŒ–åˆ°ä¸€ç»´ï¼š     f(j) = f(j) + f(j-i)       </span><br></pre></td></tr></table></figure>
<p><strong>ä»£ç ï¼š</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1010</span>, mod = <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="type">int</span> f[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line"></span><br><span class="line">    f[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++ )</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = i; j &lt;= n; j ++ )</span><br><span class="line">            f[j] = (f[j] + f[j - i]) % mod;</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; f[n] &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>æ€è·¯äºŒï¼š</strong></li>
</ul>
<!---->
<pre><code>- çŠ¶æ€è¡¨ç¤ºï¼š
æ‰€æœ‰æ€»å’Œä¸ºiï¼Œå¹¶ä¸”æ°å¥½è¡¨ç¤ºæˆjä¸ªæ•°çš„å’Œçš„æ–¹æ¡ˆ
çš„é›†åˆä¸­çš„
æ•°å€¼æ•°é‡(ä¹Ÿå°±æ˜¯j)
</code></pre>
<!---->
<pre><code>- çŠ¶æ€è®¡ç®—ï¼š
f(i,j) = f(i-1,j-1) + f(i-j,j)
æ›²çº¿æ•‘å›½
f(i-1,j-1)æ˜¯f(i,j)ä¸­åŒ…å«æœ€å°å€¼1çš„æ–¹æ¡ˆ
f(i-j,j)æ˜¯f(i,j)ä¸­ä¸åŒ…å«æœ€å°å€¼1çš„æ–¹æ¡ˆ
                  (jä¸ªæ•°éƒ½å‡1)
</code></pre>
<p>æ³¨æ„ï¼šè¿™ç§æ€è·¯æœ€åç»“æœæ˜¯f(n,1)+f(n,2)+f(n,3)â€¦</p>
<p><strong>ä»£ç ï¼š</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1010</span>, mod = <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="type">int</span> f[N][N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line"></span><br><span class="line">    f[<span class="number">1</span>][<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">2</span>; i &lt;= n; i ++ )</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= i; j ++ )</span><br><span class="line">            f[i][j] = (f[i - <span class="number">1</span>][j - <span class="number">1</span>] + f[i - j][j]) % mod;</span><br><span class="line">    <span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++ ) res = (res + f[n][i]) % mod;</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; res &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="5-æ•°ä½ç»Ÿè®¡dp"><a class="markdownIt-Anchor" href="#5-æ•°ä½ç»Ÿè®¡dp"></a> 5 æ•°ä½ç»Ÿè®¡DP</h1>
<blockquote>
<p>ç«èµ›ä¸­æœ‰è¿™æ ·ä¸€ç±»é—®é¢˜ï¼šæ±‚ç»™å®šåŒºé—´ä¸­ï¼Œæ»¡è¶³ç»™å®šæ¡ä»¶çš„æŸä¸ªDè¿›åˆ¶æ•°æˆ–æ­¤ç±»æ•°çš„æ•°é‡ã€‚æ‰€æ±‚çš„é™å®šæ¡ä»¶å¾€å¾€ä¸æ•°ä½æœ‰å…³ï¼Œä¾‹å¦‚æ•°ä½ä¹‹å’Œã€æŒ‡å®šæ•°ç ä¸ªæ•°ã€æ•°çš„å¤§å°é¡ºåºåˆ†ç»„ç­‰ç­‰ã€‚é¢˜ç›®ç»™å®šçš„åŒºé—´å¾€å¾€å¾ˆå¤§ï¼Œæ— æ³•é‡‡ç”¨æœ´ç´ çš„æ–¹æ³•æ±‚è§£ã€‚</p>
</blockquote>
<h1 id="6-çŠ¶æ€å‹ç¼©dp"><a class="markdownIt-Anchor" href="#6-çŠ¶æ€å‹ç¼©dp"></a> 6 çŠ¶æ€å‹ç¼©DP</h1>
<blockquote>
<p>å°†çŠ¶æ€è¡¨ç¤ºæˆäºŒè¿›åˆ¶æ•°ï¼Œæ¯ä¸€ä½éƒ½ä¸çŠ¶æ€ä¸€ä¸€å¯¹åº”</p>
</blockquote>
<h2 id="61-ä¾‹é¢˜1è’™å¾·é‡Œå®‰çš„æ¢¦æƒ³"><a class="markdownIt-Anchor" href="#61-ä¾‹é¢˜1è’™å¾·é‡Œå®‰çš„æ¢¦æƒ³"></a> 6.1 ä¾‹é¢˜1ï¼šè’™å¾·é‡Œå®‰çš„æ¢¦æƒ³</h2>
<blockquote>
<p>ğŸ“Œæ±‚æŠŠN*Mçš„æ£‹ç›˜åˆ†å‰²æˆè‹¥å¹²ä¸ª1*2çš„çš„é•¿æ–¹å½¢ï¼Œæœ‰å¤šå°‘ç§æ–¹æ¡ˆã€‚<br />
ä¾‹å¦‚å½“N=2ï¼ŒM=4æ—¶ï¼Œå…±æœ‰5ç§æ–¹æ¡ˆã€‚<br />
å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
</blockquote>
<p><img src="https://oliverpai-post-pics.oss-cn-hangzhou.aliyuncs.com/image/dynamic-programming-basic/Fig9_6Qdw3BuZTK.png" alt="" /></p>
<ul>
<li>
<p><strong>æ€è·¯ï¼š</strong></p>
<p><img src="https://oliverpai-post-pics.oss-cn-hangzhou.aliyuncs.com/image/dynamic-programming-basic/Fig10_UIwbppcb7E.png" alt="" /></p>
</li>
</ul>
<p>ä¸¾ä¾‹è¯´æ˜ï¼Œä¸€æ—¦æŸä¸€ä¸ªæ–¹æ¡ˆæ‰€æœ‰æ¨ªå‘1*2çš„é•¿æ–¹å½¢æ”¾å®Œäº†ï¼Œé‚£ä¹ˆè¯¥æ–¹æ¡ˆçš„æ‰€æœ‰çºµå‘2*1ä¹Ÿå°±åªèƒ½å¡«å……ï¼Œæ— æ³•å†åšæ”¹å˜ã€‚æ‰€ä»¥åªéœ€è¦æ’åˆ—æ¨ªå‘1*2é•¿æ–¹å½¢å³å¯ï¼Œè€Œé€šè¿‡åˆ—æ¥æ£€æŸ¥æ’åˆ—æ˜¯å¦å¯è¡Œï¼š</p>
<ol>
<li>
<p>æ’å®Œæ¨ªå‘åï¼Œç¬¬iåˆ—ä¸å¯ä»¥æœ‰è¿ç»­å¥‡æ•°ä¸ªç©ºæ ¼</p>
</li>
<li>
<p>ä»ç¬¬i-2åˆ°ç¬¬i-1åˆ—çš„æ¨ªå‘é•¿æ–¹å½¢å’Œä»ç¬¬i-1åˆ—åˆ°ç¬¬iåˆ—çš„æ¨ªå‘é•¿æ–¹å½¢ä¸èƒ½æœ‰é‡åˆ</p>
</li>
</ol>
<ul>
<li><strong>çŠ¶æ€è¡¨ç¤ºï¼š</strong></li>
</ul>
<p>f(i, j)ï¼šiè¡¨ç¤ºç›®å‰æ’åˆ°ç¬¬iåˆ—ï¼Œjè¡¨ç¤ºä»ç¬¬i-1åˆ—ä¼¸è¿‡æ¥çš„æ¨ªå‘é•¿æ–¹å½¢çš„çŠ¶æ€</p>
<p>f(i, j)è¡¨ç¤ºæ’åˆ°ç¬¬iåˆ—çš„(æ»¡è¶³çº¦æŸçš„)æ–¹æ¡ˆçš„ä¸ªæ•°</p>
<p>ä¸¾ä¾‹æ¥è¯´ï¼Œä¸Šå›¾ä¸­ï¼Œç›®å‰ç¬¬iåˆ—çš„ j1 = 0010(äºŒè¿›åˆ¶)</p>
<p>ç›®å‰ç¬¬i-1åˆ—çš„ j2 = 1001(äºŒè¿›åˆ¶)</p>
<p>ä¸€å…±æœ‰måˆ—ï¼Œä»0åˆ°m-1</p>
<p>é‚£ä¹ˆä¸Šè¿°ä¸¤ä¸ªçº¦æŸæ¡ä»¶å˜æˆäº†ï¼š</p>
<ol>
<li>
<p>(j1 &amp; j2) å¿…é¡»ç­‰äº0</p>
</li>
<li>
<p>j1ä¸­ä¸å¯ä»¥æœ‰è¿ç»­å¥‡æ•°ä¸ª0</p>
</li>
</ol>
<ul>
<li><strong>çŠ¶æ€è®¡ç®—ï¼š</strong></li>
</ul>
<p>f(i, j) = f(i-1, k1) + f(i-1, k2)+ â€¦</p>
<p>å…¶ä¸­k1,k2â€¦æ˜¯æ’åˆ°ç¬¬i-1åˆ—æ—¶æ»¡è¶³çº¦æŸçš„æ–¹æ¡ˆçš„ j</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*------æœ€ç»ˆç»“æœæ˜¯f(m,0)ï¼Œä¹Ÿå°±æ˜¯ç¬¬måˆ—ï¼Œæ²¡æœ‰æ…å‡ºæ¥çš„æ¨ªæ ¼æ—¶çš„æ‰€æœ‰æ–¹æ¡ˆ-------*/</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">12</span>, M = <span class="number">1</span> &lt;&lt; N;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n, m;</span><br><span class="line"><span class="type">long</span> <span class="type">long</span> f[N][M];</span><br><span class="line"><span class="type">bool</span> st[M];<span class="comment">//æ ‡å¿—ç¬¬iåˆ—çš„jæ˜¯å¦å¯è¡Œ</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//é€—å·è¿ç®—ç¬¦åˆ†éš”ä¸¤ä¸ªè¡¨è¾¾å¼ï¼Œä½†æ˜¯æœ€ç»ˆç»“æœæ˜¯åä¸€ä¸ªè¡¨è¾¾å¼çš„ç»“æœ</span></span><br><span class="line">    <span class="keyword">while</span> (cin &gt;&gt; n &gt;&gt; m, n || m)<span class="comment">//å½“næˆ–mæœ‰ä¸€ä¸ªæ•°ä¸º0æ„å‘³ç€ç»ˆæ­¢æµ‹è¯•</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//åšçº¦æŸæ¡ä»¶2çš„æ£€æŸ¥ï¼Œæ£€æŸ¥ä¸€ä¸‹ï¼Œä¸€åˆ—çš„æ‰€æœ‰æ¨ªå‘æ’æ³•ä¸­ï¼Œæœ‰å“ªäº›æ’æ³•ä¼šæœ‰è¿ç»­å¥‡æ•°ä¸ª0ï¼Œç”¨stè®°å½•</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">1</span> &lt;&lt; n; i ++ )<span class="comment">//æœ‰nè¡Œï¼Œjå°±æœ‰nä½</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">            st[i] = <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; n; j ++ )</span><br><span class="line">                <span class="keyword">if</span> (i &gt;&gt; j &amp; <span class="number">1</span>)<span class="comment">//å…ˆå³ç§»å†ä¸ï¼Œåˆ¤æ–­ç¬¬jä½æ˜¯ä¸æ˜¯1</span></span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">if</span> (cnt &amp; <span class="number">1</span>) st[i] = <span class="literal">false</span>;</span><br><span class="line">                    cnt = <span class="number">0</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> cnt ++ ;</span><br><span class="line">            <span class="keyword">if</span> (cnt &amp; <span class="number">1</span>) st[i] = <span class="literal">false</span>;<span class="comment">//cntç”¨æ¥è®°å½•è¿ç»­0çš„ä¸ªæ•°ï¼Œå¦‚æœæ˜¯å¥‡æ•°ä¸ªåˆ™æ­¤æ–¹æ¡ˆä¸å¯è¡Œ</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">memset</span>(f, <span class="number">0</span>, <span class="keyword">sizeof</span> f);</span><br><span class="line">        f[<span class="number">0</span>][<span class="number">0</span>] = <span class="number">1</span>;<span class="comment">//å•¥éƒ½æ²¡æ”¾æ˜¯ä¸€ç§åˆæ³•çš„åˆå§‹çŠ¶æ€ï¼Œæ–¹æ¡ˆæ•°ä¸º1</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= m; i ++ )</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; <span class="number">1</span> &lt;&lt; n; j ++ )</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> k = <span class="number">0</span>; k &lt; <span class="number">1</span> &lt;&lt; n; k ++ )</span><br><span class="line">                    <span class="comment">//st[j | k]è€Œä¸æ˜¯st[j]&amp;st[k],ä¸ºä»€ä¹ˆï¼Ÿ</span></span><br><span class="line">                    <span class="keyword">if</span> ((j &amp; k) == <span class="number">0</span> &amp;&amp; st[j | k])<span class="comment">//åˆ¤æ–­ä¸¤ä¸ªçº¦æŸ</span></span><br><span class="line">                        f[i][j] += f[i - <span class="number">1</span>][k];</span><br><span class="line">        cout &lt;&lt; f[m][<span class="number">0</span>] &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="62-ä¾‹é¢˜2æœ€çŸ­hamiltonè·¯å¾„"><a class="markdownIt-Anchor" href="#62-ä¾‹é¢˜2æœ€çŸ­hamiltonè·¯å¾„"></a> 6.2 ä¾‹é¢˜2ï¼šæœ€çŸ­Hamiltonè·¯å¾„</h2>
<blockquote>
<p>ğŸ“Œç»™å®šä¸€å¼  n ä¸ªç‚¹çš„å¸¦æƒæ— å‘å›¾ï¼Œç‚¹ä» 0~n-1 æ ‡å·ï¼Œæ±‚èµ·ç‚¹ 0 åˆ°ç»ˆç‚¹ n-1 çš„æœ€çŸ­Hamiltonè·¯å¾„ã€‚ Hamiltonè·¯å¾„çš„å®šä¹‰æ˜¯ä» 0 åˆ° n-1 ä¸é‡ä¸æ¼åœ°ç»è¿‡æ¯ä¸ªç‚¹æ°å¥½ä¸€æ¬¡ã€‚<br />
(æ­¤é—®é¢˜å°±æ˜¯å¤§åé¼é¼çš„æ—…è¡Œå•†é—®é¢˜)</p>
<p><strong>è¾“å…¥æ ¼å¼</strong><br />
ç¬¬ä¸€è¡Œè¾“å…¥æ•´æ•°nã€‚<br />
æ¥ä¸‹æ¥nè¡Œæ¯è¡Œnä¸ªæ•´æ•°ï¼Œå…¶ä¸­ç¬¬iè¡Œç¬¬jä¸ªæ•´æ•°è¡¨ç¤ºç‚¹iåˆ°jçš„è·ç¦»ï¼ˆè®°ä¸ºa[i,j]ï¼‰ã€‚<br />
å¯¹äºä»»æ„çš„x,y,zï¼Œæ•°æ®ä¿è¯ a[x,x]=0ï¼Œa[x,y]=a[y,x] å¹¶ä¸” a[x,y]+a[y,z]&gt;=a[x,z]ã€‚</p>
<p><strong>è¾“å‡ºæ ¼å¼</strong><br />
è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæœ€çŸ­Hamiltonè·¯å¾„çš„é•¿åº¦ã€‚</p>
</blockquote>
<ul>
<li><strong>æ€è·¯ï¼š</strong></li>
</ul>
<p><strong>çŠ¶æ€è¡¨ç¤º</strong>ï¼šf(i, j)è¡¨ç¤ºä¸ºä»0èµ°åˆ° jçš„æ‰€æœ‰è·¯å¾„æ˜¯ içš„åŠ æƒå’Œé›†åˆçš„Min</p>
<p>æ¯”å¦‚i = 110001 è¡¨ç¤ºä¸ºä»0åˆ° jï¼Œèµ°äº†ç‚¹1ã€5ã€6ï¼Œæ²¡èµ°2ã€3ã€4</p>
<p><strong>çŠ¶æ€è®¡ç®—</strong>ï¼š</p>
<p>é€šè¿‡çœ‹èµ°åˆ° jä¹‹å‰çš„å€’æ•°ç¬¬äºŒä¸ªç‚¹æ¥åšçŠ¶æ€è½¬ç§»</p>
<p>å¦‚æœå€’æ•°ç¬¬äºŒä¸ªç‚¹æ˜¯kï¼Œåˆ™ f(i, j) = f(i-{j}, k) + a[k, j]</p>
<p>æ‰€ä»¥ä¹Ÿå°±æ˜¯f(i, j) = min( f(i-{j}, k) + a[k, j] )ï¼Œkæ˜¯æ‰€æœ‰ä»0åˆ° jæ‰€ç»è¿‡çš„å€’æ•°ç¬¬äºŒä¸ªç‚¹</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">20</span>, M = <span class="number">1</span> &lt;&lt; N;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="type">int</span> w[N][N];</span><br><span class="line"><span class="type">int</span> f[M][N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i ++ )</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; n; j ++ )</span><br><span class="line">            cin &gt;&gt; w[i][j];</span><br><span class="line"></span><br><span class="line">    <span class="built_in">memset</span>(f, <span class="number">0x3f</span>, <span class="keyword">sizeof</span> f);</span><br><span class="line">    f[<span class="number">1</span>][<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">1</span> &lt;&lt; n; i ++ )</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; n; j ++ )</span><br><span class="line">            <span class="keyword">if</span> (i &gt;&gt; j &amp; <span class="number">1</span>)</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> k = <span class="number">0</span>; k &lt; n; k ++ )</span><br><span class="line">                    <span class="keyword">if</span> (i &gt;&gt; k &amp; <span class="number">1</span>)</span><br><span class="line">                        f[i][j] = <span class="built_in">min</span>(f[i][j], f[i - (<span class="number">1</span> &lt;&lt; j)][k] + w[k][j]);</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; f[(<span class="number">1</span> &lt;&lt; n) - <span class="number">1</span>][n - <span class="number">1</span>];</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="7-æ ‘å½¢dp"><a class="markdownIt-Anchor" href="#7-æ ‘å½¢dp"></a> 7 æ ‘å½¢DP</h1>
<blockquote>
<p>ä¸€èˆ¬æ¥è¯´æ ‘å½¢dpåœ¨è®¾çŠ¶æ€è½¬ç§»æ–¹ç¨‹æ—¶éƒ½å¯ä»¥ç”¨f[i][]è¡¨ç¤ºiè¿™é¢—å­æ ‘æ€ä¹ˆæ€ä¹ˆæ ·çš„æœ€ä¼˜è§£ï¼Œå®ç°æ—¶ä¸€èˆ¬éƒ½æ˜¯ç”¨å­æ ‘æ›´æ–°çˆ¶äº²ï¼ˆå³ä»ä¸‹å‘ä¸Šæ›´æ–°ï¼‰</p>
</blockquote>
<h2 id="71-ä¾‹é¢˜1æ²¡æœ‰ä¸Šå¸çš„èˆä¼š"><a class="markdownIt-Anchor" href="#71-ä¾‹é¢˜1æ²¡æœ‰ä¸Šå¸çš„èˆä¼š"></a> 7.1 ä¾‹é¢˜1ï¼šæ²¡æœ‰ä¸Šå¸çš„èˆä¼š</h2>
<blockquote>
<p>ğŸ“Œ(æ ‘å½¢DPæœ€ç»å…¸é—®é¢˜)<br />
Uralå¤§å­¦æœ‰NåèŒå‘˜ï¼Œç¼–å·ä¸º1~Nã€‚<br />
ä»–ä»¬çš„å…³ç³»å°±åƒä¸€æ£µä»¥æ ¡é•¿ä¸ºæ ¹çš„æ ‘ï¼Œçˆ¶èŠ‚ç‚¹å°±æ˜¯å­èŠ‚ç‚¹çš„ç›´æ¥ä¸Šå¸ã€‚<br />
æ¯ä¸ªèŒå‘˜æœ‰ä¸€ä¸ªå¿«ä¹æŒ‡æ•°ï¼Œç”¨æ•´æ•° Hi ç»™å‡ºï¼Œå…¶ä¸­ 1â‰¤iâ‰¤Nã€‚<br />
ç°åœ¨è¦å¬å¼€ä¸€åœºå‘¨å¹´åº†å®´ä¼šï¼Œä¸è¿‡ï¼Œæ²¡æœ‰èŒå‘˜æ„¿æ„å’Œç›´æ¥ä¸Šå¸ä¸€èµ·å‚ä¼šã€‚<br />
åœ¨æ»¡è¶³è¿™ä¸ªæ¡ä»¶çš„å‰æä¸‹ï¼Œä¸»åŠæ–¹å¸Œæœ›é‚€è¯·ä¸€éƒ¨åˆ†èŒå‘˜å‚ä¼šï¼Œä½¿å¾—æ‰€æœ‰å‚ä¼šèŒå‘˜çš„å¿«ä¹æŒ‡æ•°æ€»å’Œæœ€å¤§ï¼Œæ±‚è¿™ä¸ªæœ€å¤§å€¼ã€‚</p>
<p><strong>è¾“å…¥æ ¼å¼</strong><br />
ç¬¬ä¸€è¡Œä¸€ä¸ªæ•´æ•°Nã€‚<br />
æ¥ä¸‹æ¥Nè¡Œï¼Œç¬¬ i è¡Œè¡¨ç¤º i å·èŒå‘˜çš„å¿«ä¹æŒ‡æ•°Hiã€‚<br />
æ¥ä¸‹æ¥N-1è¡Œï¼Œæ¯è¡Œè¾“å…¥ä¸€å¯¹æ•´æ•°L, K,è¡¨ç¤ºKæ˜¯Lçš„ç›´æ¥ä¸Šå¸ã€‚</p>
<p><strong>è¾“å‡ºæ ¼å¼</strong><br />
è¾“å‡ºæœ€å¤§çš„å¿«ä¹æŒ‡æ•°ã€‚</p>
</blockquote>
<ul>
<li>æ€è·¯ï¼š</li>
</ul>
<p><strong>çŠ¶æ€è¡¨ç¤º</strong>ï¼š</p>
<p>æ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰ä¸¤ç§çŠ¶æ€ï¼š</p>
<p>f(u, 0)ï¼šä»¥uä¸ºæ ¹èŠ‚ç‚¹ï¼Œä½†æ˜¯ä¸é€‰æ‹©uçš„æ‰€æœ‰æ–¹æ¡ˆçš„é›†åˆä¸­çš„æœ€å¤§å¿«ä¹æŒ‡æ•°</p>
<p>f(u, 1)ï¼šä»¥uä¸ºæ ¹èŠ‚ç‚¹ï¼ŒåŒæ—¶é€‰æ‹©uçš„æ‰€æœ‰æ–¹æ¡ˆçš„é›†åˆä¸­çš„æœ€å¤§å¿«ä¹æŒ‡æ•°</p>
<p><strong>çŠ¶æ€è®¡ç®—</strong>ï¼š</p>
<p><img src="https://oliverpai-post-pics.oss-cn-hangzhou.aliyuncs.com/image/dynamic-programming-basic/Fig11_KKKIaBvA7b.png" alt="" /></p>
<p>å¯¹äºf(u, 0)ï¼šç”±äºuæœªè¢«é€‰æ‹©ï¼Œæ‰€ä»¥uçš„å­èŠ‚ç‚¹å¯æœ‰å¯æ— ï¼Œå³å¯¹äºæ¯ä¸ªuçš„å­èŠ‚ç‚¹Siï¼Œf(Si, 0)å’Œf(Si, 1)éƒ½å¯ä»¥é€‰æ‹©ï¼Œå–å…¶ä¸­æœ‰æœ€å¤§å¿«ä¹æŒ‡æ•°çš„æ–¹æ¡ˆã€‚</p>
<p>å¯¹äºf(u, 1)ï¼šç”±äºuå·²é€‰ï¼Œuçš„å­èŠ‚ç‚¹ä¸èƒ½å†é€‰ï¼Œæ‰€ä»¥å¯¹äºæ¯ä¸ªuçš„å­èŠ‚ç‚¹Siï¼Œåªèƒ½æœ‰ f(Si, 0)ã€‚</p>
<ol>
<li>
<p>f(u, 0) = <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mo>âˆ‘</mo><mi>i</mi></msub><mrow><mi>m</mi><mi>a</mi><mi>x</mi><mo stretchy="false">(</mo><mi>f</mi><mo stretchy="false">(</mo><mi>S</mi><mi>i</mi><mo separator="true">,</mo><mn>0</mn><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>f</mi><mo stretchy="false">(</mo><msub><mi>S</mi><mi>i</mi></msub><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow></mrow><annotation encoding="application/x-tex">\sum_i{max(f(Si,0),f(S_i,1))}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0497100000000001em;vertical-align:-0.29971000000000003em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">âˆ‘</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.16195399999999993em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">m</span><span class="mord mathnormal">a</span><span class="mord mathnormal">x</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">0</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mclose">)</span></span></span></span></span></p>
</li>
<li>
<p>f(u, 1) = <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mo>âˆ‘</mo><mi>i</mi></msub><mrow><mi>f</mi><mo stretchy="false">(</mo><msub><mi>S</mi><mi>i</mi></msub><mo separator="true">,</mo><mn>0</mn><mo stretchy="false">)</mo></mrow><mo>+</mo><mi>A</mi><mo stretchy="false">[</mo><mi>u</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">\sum_i{f(S_i,0)}+A[u]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0497100000000001em;vertical-align:-0.29971000000000003em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">âˆ‘</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.16195399999999993em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">0</span><span class="mclose">)</span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">A</span><span class="mopen">[</span><span class="mord mathnormal">u</span><span class="mclose">]</span></span></span></span></p>
</li>
</ol>
<p><strong>ä»£ç </strong>ï¼š</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">6010</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="type">int</span> h[N], e[N], ne[N], idx;<span class="comment">//é‚»æ¥è¡¨</span></span><br><span class="line"><span class="type">int</span> happy[N];</span><br><span class="line"><span class="type">int</span> f[N][<span class="number">2</span>];</span><br><span class="line"><span class="type">bool</span> has_fa[N];<span class="comment">//åˆ¤æ–­å„ä¸ªèŠ‚ç‚¹æ˜¯å¦æœ‰çˆ¶èŠ‚ç‚¹ï¼Œæ²¡æœ‰çˆ¶èŠ‚ç‚¹çš„èŠ‚ç‚¹å°±æ˜¯æ ¹èŠ‚ç‚¹</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span><span class="comment">//é‚»æ¥è¡¨ä¸­æ’å…¥ä¸€æ¡è¾¹ï¼Œæ¨¡æ¿</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    e[idx] = b, ne[idx] = h[a], h[a] = idx ++ ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> u)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    f[u][<span class="number">1</span>] = happy[u];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = h[u]; ~i; i = ne[i])<span class="comment">//~iå³ä¸ºåˆ¤æ–­ i!=-1ï¼ŒæŒ‰ä½å–åï¼Œæ¨¡æ¿</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> j = e[i];</span><br><span class="line">        <span class="built_in">dfs</span>(j);</span><br><span class="line"></span><br><span class="line">        f[u][<span class="number">1</span>] += f[j][<span class="number">0</span>];</span><br><span class="line">        f[u][<span class="number">0</span>] += <span class="built_in">max</span>(f[j][<span class="number">0</span>], f[j][<span class="number">1</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;n);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++ ) <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;happy[i]);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">memset</span>(h, <span class="number">-1</span>, <span class="keyword">sizeof</span> h);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n - <span class="number">1</span>; i ++ )</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> a, b;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;a, &amp;b);</span><br><span class="line">        <span class="built_in">add</span>(b, a);</span><br><span class="line">        has_fa[a] = <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> root = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (has_fa[root]) root ++ ;<span class="comment">//æ‰¾åˆ°æ ¹èŠ‚ç‚¹</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">dfs</span>(root);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, <span class="built_in">max</span>(f[root][<span class="number">0</span>], f[root][<span class="number">1</span>]));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="8-è®°å¿†åŒ–æœç´¢"><a class="markdownIt-Anchor" href="#8-è®°å¿†åŒ–æœç´¢"></a> 8 è®°å¿†åŒ–æœç´¢</h1>
<blockquote>
<p>è®°å¿†åŒ–æœç´¢  = æœç´¢çš„å½¢å¼ + åŠ¨æ€è§„åˆ’çš„æ€æƒ³<br />
æœç´¢ï¼šåŠ¨æ€è§„åˆ’æ•°ç»„è®°å½•ä¸Šä¸€å±‚è®¡ç®—ç»“æœï¼Œå½“è¦ä½¿ç”¨æ—¶ç›´æ¥ä»æ•°ç»„ä¸­è·å–<br />
é¿å…è¿‡å¤šçš„é‡å¤è®¡ç®—ï¼Œå¾€å¾€å…·æœ‰è¾ƒä½çš„ç©ºé—´å¤æ‚åº¦</p>
</blockquote>
<h2 id="81-ä¾‹é¢˜1æ»‘é›ª"><a class="markdownIt-Anchor" href="#81-ä¾‹é¢˜1æ»‘é›ª"></a> 8.1 ä¾‹é¢˜1ï¼šæ»‘é›ª</h2>
<blockquote>
<p>ğŸ“Œç»™å®šä¸€ä¸ªRè¡ŒCåˆ—çš„çŸ©é˜µï¼Œè¡¨ç¤ºä¸€ä¸ªçŸ©å½¢ç½‘æ ¼æ»‘é›ªåœºã€‚<br />
çŸ©é˜µä¸­ç¬¬ i è¡Œç¬¬ j åˆ—çš„ç‚¹è¡¨ç¤ºæ»‘é›ªåœºçš„ç¬¬ i è¡Œç¬¬ j åˆ—åŒºåŸŸçš„é«˜åº¦ã€‚<br />
ä¸€ä¸ªäººä»æ»‘é›ªåœºä¸­çš„æŸä¸ªåŒºåŸŸå†…å‡ºå‘ï¼Œæ¯æ¬¡å¯ä»¥å‘ä¸Šä¸‹å·¦å³ä»»æ„ä¸€ä¸ªæ–¹å‘æ»‘åŠ¨ä¸€ä¸ªå•ä½è·ç¦»ã€‚<br />
å½“ç„¶ï¼Œä¸€ä¸ªäººèƒ½å¤Ÿæ»‘åŠ¨åˆ°æŸç›¸é‚»åŒºåŸŸçš„å‰ææ˜¯è¯¥åŒºåŸŸçš„é«˜åº¦ä½äºè‡ªå·±ç›®å‰æ‰€åœ¨åŒºåŸŸçš„é«˜åº¦ã€‚<br />
ä¸‹é¢ç»™å‡ºä¸€ä¸ªçŸ©é˜µä½œä¸ºä¾‹å­ï¼š</p>
<p>1   2   3   4  5<br />
16 17 18 19 6<br />
15 24 25 20 7<br />
14 23 22 21 8<br />
13 12 11 10 9<br />
åœ¨ç»™å®šçŸ©é˜µä¸­ï¼Œä¸€æ¡å¯è¡Œçš„æ»‘è¡Œè½¨è¿¹ä¸º24-17-2-1ã€‚<br />
åœ¨ç»™å®šçŸ©é˜µä¸­ï¼Œæœ€é•¿çš„æ»‘è¡Œè½¨è¿¹ä¸º25-24-23-â€¦-3-2-1ï¼Œæ²¿é€”å…±ç»è¿‡25ä¸ªåŒºåŸŸã€‚<br />
ç°åœ¨ç»™å®šä½ ä¸€ä¸ªäºŒç»´çŸ©é˜µè¡¨ç¤ºæ»‘é›ªåœºå„åŒºåŸŸçš„é«˜åº¦ï¼Œè¯·ä½ æ‰¾å‡ºåœ¨è¯¥æ»‘é›ªåœºä¸­èƒ½å¤Ÿå®Œæˆçš„æœ€é•¿æ»‘é›ªè½¨è¿¹ï¼Œå¹¶è¾“å‡ºå…¶é•¿åº¦(å¯ç»è¿‡æœ€å¤§åŒºåŸŸæ•°)ã€‚</p>
</blockquote>
<ul>
<li>æ€è·¯ï¼š<strong>é€’å½’</strong></li>
</ul>
<p><strong>çŠ¶æ€è¡¨ç¤º</strong>ï¼š</p>
<p>f(i, j)ï¼šä»¥ç¬¬iè¡Œç¬¬jåˆ—ä¸ºèµ·ç‚¹çš„æ‰€æœ‰è½¨è¿¹çš„é›†åˆä¸­çš„æœ€å¤§é•¿åº¦</p>
<p><strong>çŠ¶æ€è®¡ç®—</strong>ï¼š</p>
<p><img src="https://oliverpai-post-pics.oss-cn-hangzhou.aliyuncs.com/image/dynamic-programming-basic/Fig12_RDU4u9SWDq.png" alt="" /></p>
<p>f(i, j)å³ä¸ºè¿™å››ç§çŠ¶æ€åœ¨ä¸å‡ºç•Œä¸”ä¸¥æ ¼ä½äº(i, j)ä½ç½®çš„é«˜åº¦æ—¶ï¼Œå–maxçš„ç»“æœ</p>
<p>ç”±äºçŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸­ï¼Œä¸­å¿ƒåŒºåŸŸçš„çŠ¶æ€ä¾æ‰˜äºå¤–åœˆçš„çŠ¶æ€ï¼Œç›´è‡³è¾¹ç¼˜ï¼Œæ‰€ä»¥å¯ç”¨é€’å½’çš„å½¢å¼æ¥å†™ã€‚</p>
<p><strong>ä»£ç </strong>ï¼š</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">310</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n, m;</span><br><span class="line"><span class="type">int</span> g[N][N];<span class="comment">//çŸ©é˜µ</span></span><br><span class="line"><span class="type">int</span> f[N][N];<span class="comment">//çŠ¶æ€</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> dx[<span class="number">4</span>] = &#123;<span class="number">-1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>&#125;, dy[<span class="number">4</span>] = &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">-1</span>&#125;;<span class="comment">//ä¸Šä¸‹å·¦å³</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">dp</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> &amp;v = f[x][y];                       <span class="comment">//åœ¨è¿”å›å€¼çš„åŒæ—¶ï¼Œæ›´æ–°fæ•°ç»„</span></span><br><span class="line">    <span class="keyword">if</span> (v != <span class="number">-1</span>) <span class="keyword">return</span> v;                  <span class="comment">//å¦‚æœç®—è¿‡äº†ï¼Œç›´æ¥è¿”å›å€¼</span></span><br><span class="line"></span><br><span class="line">    v = <span class="number">1</span>;                                  <span class="comment">//åˆå§‹åŒ–ï¼Œæœ€å·®æƒ…å†µæ˜¯åªèµ°äº†è‡ªå·±æœ¬èº«è¿™ä¸€æ­¥</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i ++ )</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> a = x + dx[i], b = y + dy[i];</span><br><span class="line">        <span class="keyword">if</span> (a &gt;= <span class="number">1</span> &amp;&amp; a &lt;= n &amp;&amp; b &gt;= <span class="number">1</span> &amp;&amp; b &lt;= m &amp;&amp; g[x][y] &gt; g[a][b])</span><br><span class="line">            v = <span class="built_in">max</span>(v, <span class="built_in">dp</span>(a, b) + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> v;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;n, &amp;m);                  <span class="comment">//nè¡Œmåˆ—</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++ )</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= m; j ++ )</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;g[i][j]);          <span class="comment">//è·å–çŸ©é˜µ</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">memset</span>(f, <span class="number">-1</span>, <span class="keyword">sizeof</span> f);</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++ )</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= m; j ++ )</span><br><span class="line">            res = <span class="built_in">max</span>(res, <span class="built_in">dp</span>(i, j));</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, res);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/%E7%AE%97%E6%B3%95/" rel="tag"># ç®—æ³•</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2021/05/25/%E7%9F%A9%E9%98%B5%E8%AE%BA/" rel="prev" title="çŸ©é˜µè®º">
                  <i class="fa fa-chevron-left"></i> çŸ©é˜µè®º
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2022/01/03/Dinkelbach%20Approach/Dinkelbach%20Approach/" rel="next" title="åˆ†å¼ä¼˜åŒ–æ±‚è§£åˆ©å™¨â€”â€”Dinkelbach">
                  åˆ†å¼ä¼˜åŒ–æ±‚è§£åˆ©å™¨â€”â€”Dinkelbach <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">OliverPai</span>
</div>
  <div class="powered-by">ç”± <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a> å¼ºåŠ›é©±åŠ¨
  </div>

    </div>
  </footer>

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/next-boot.js"></script>

  





  




  

  <script class="next-config" data-name="enableMath" type="application/json">true</script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.0/katex.min.css" integrity="sha256-uik/hNqHWZldXh/0K35nqOSCff9F61/ZOFReqNOBgB0=" crossorigin="anonymous">



</body>
</html>
